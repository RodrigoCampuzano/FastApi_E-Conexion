import './polyfills.server.mjs';
import{A as ee,Aa as dn,B as f,C as Mi,D as d,E as Di,Ea as re,F as r,Fa as ae,G as o,H as c,Ha as P,I as A,Ia as k,J as p,Ja as yt,K as v,Ka as N,L as Oe,M as vt,N as bt,O as _t,P as Ki,Q as s,R as j,S as C,T as xt,U as en,V as tn,W as nn,X as me,Y as ke,Z as je,_ as Ne,a as Wi,aa as on,b as Xi,c as Zi,d as ht,e as gt,f as de,fa as rn,g as B,h as I,ha as Ai,i as Fe,ia as Te,j as $,ja as ge,k as h,ka as Vi,l as F,m as H,ma as oe,n as Ke,na as L,o as w,oa as S,p as E,pa as an,q as Qi,qa as Ct,r as Ji,ra as te,s as Me,sa as y,t as De,ta as q,u as et,ua as sn,v as ue,va as ln,w as l,wa as U,x as u,xa as cn,y as tt,z as Pe}from"./chunk-B32P36NB.mjs";import{a as ne,b as ce}from"./chunk-5XUXGTUW.mjs";var Zn=[],wt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[N.forRoot(Zn),N]})};var Re=class i{title="E-Conexion";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&c(0,"router-outlet")},dependencies:[ae]})};var xn=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(u(tt),u(et))}}static{this.\u0275dir=H({type:i})}}return i})(),Ot=(()=>{class i extends xn{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Me(i)))(a||i)}})()}static{this.\u0275dir=H({type:i,features:[ee]})}}return i})(),He=new Fe("");var Qn={provide:He,useExisting:de(()=>G),multi:!0};function Jn(){let i=Vi()?Vi().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Kn=new Fe(""),G=(()=>{class i extends xn{constructor(e,n,a){super(e,n),this._compositionMode=a,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Jn())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(u(tt),u(et),u(Kn,8))}}static{this.\u0275dir=H({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,a){n&1&&p("input",function(g){return a._handleInput(g.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(g){return a._compositionEnd(g.target.value)})},features:[me([Qn]),ee]})}}return i})();function xe(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Cn(i){return i!=null&&typeof i.length=="number"}var ze=new Fe(""),kt=new Fe(""),eo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,_=class{static min(t){return to(t)}static max(t){return io(t)}static required(t){return yn(t)}static requiredTrue(t){return no(t)}static email(t){return oo(t)}static minLength(t){return wn(t)}static maxLength(t){return ro(t)}static pattern(t){return ao(t)}static nullValidator(t){return St(t)}static compose(t){return Dn(t)}static composeAsync(t){return An(t)}};function to(i){return t=>{if(xe(t.value)||xe(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function io(i){return t=>{if(xe(t.value)||xe(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function yn(i){return xe(i.value)?{required:!0}:null}function no(i){return i.value===!0?null:{required:!0}}function oo(i){return xe(i.value)||eo.test(i.value)?null:{email:!0}}function wn(i){return t=>xe(t.value)||!Cn(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function ro(i){return t=>Cn(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function ao(i){if(!i)return St;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(xe(n.value))return null;let a=n.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}function St(i){return null}function En(i){return i!=null}function Sn(i){return on(i)?Xi(i):i}function In(i){let t={};return i.forEach(e=>{t=e!=null?ne(ne({},t),e):t}),Object.keys(t).length===0?null:t}function Fn(i,t){return t.map(e=>e(i))}function so(i){return!i.validate}function Mn(i){return i.map(t=>so(t)?t:e=>t.validate(e))}function Dn(i){if(!i)return null;let t=i.filter(En);return t.length==0?null:function(e){return In(Fn(e,t))}}function Ti(i){return i!=null?Dn(Mn(i)):null}function An(i){if(!i)return null;let t=i.filter(En);return t.length==0?null:function(e){let n=Fn(e,t).map(Sn);return ht(n).pipe(Zi(In))}}function Ri(i){return i!=null?An(Mn(i)):null}function un(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Vn(i){return i._rawValidators}function Pn(i){return i._rawAsyncValidators}function Pi(i){return i?Array.isArray(i)?i:[i]:[]}function It(i,t){return Array.isArray(i)?i.includes(t):i===t}function mn(i,t){let e=Pi(t);return Pi(i).forEach(a=>{It(e,a)||e.push(a)}),e}function pn(i,t){return Pi(t).filter(e=>!It(i,e))}var Ft=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ti(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ri(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ve=class extends Ft{get formDirective(){return null}get path(){return null}},Ae=class extends Ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Mt=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},lo={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},es=ce(ne({},lo),{"[class.ng-submitted]":"isSubmitted"}),Y=(()=>{class i extends Mt{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(u(Ae,2))}}static{this.\u0275dir=H({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,a){n&2&&Di("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[ee]})}}return i})(),W=(()=>{class i extends Mt{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(u(ve,10))}}static{this.\u0275dir=H({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,a){n&2&&Di("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)("ng-submitted",a.isSubmitted)},features:[ee]})}}return i})();var it="VALID",Et="INVALID",Be="PENDING",nt="DISABLED",Ce=class{},Dt=class extends Ce{constructor(t,e){super(),this.value=t,this.source=e}},rt=class extends Ce{constructor(t,e){super(),this.pristine=t,this.source=e}},at=class extends Ce{constructor(t,e){super(),this.touched=t,this.source=e}},Le=class extends Ce{constructor(t,e){super(),this.status=t,this.source=e}},Oi=class extends Ce{constructor(t){super(),this.source=t}},ki=class extends Ce{constructor(t){super(),this.source=t}};function Bi(i){return(jt(i)?i.validators:i)||null}function co(i){return Array.isArray(i)?Ti(i):i||null}function Li(i,t){return(jt(t)?t.asyncValidators:i)||null}function uo(i){return Array.isArray(i)?Ri(i):i||null}function jt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function On(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new gt(1e3,"");if(!n[e])throw new gt(1001,"")}function kn(i,t,e){i._forEachChild((n,a)=>{if(e[a]===void 0)throw new gt(1002,"")})}var Ue=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Te(()=>this.statusReactive()),this.statusReactive=Pe(void 0),this._pristine=Te(()=>this.pristineReactive()),this.pristineReactive=Pe(!0),this._touched=Te(()=>this.touchedReactive()),this.touchedReactive=Pe(!1),this._events=new Wi,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ge(this.statusReactive)}set status(t){ge(()=>this.statusReactive.set(t))}get valid(){return this.status===it}get invalid(){return this.status===Et}get pending(){return this.status==Be}get disabled(){return this.status===nt}get enabled(){return this.status!==nt}get pristine(){return ge(this.pristineReactive)}set pristine(t){ge(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return ge(this.touchedReactive)}set touched(t){ge(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(mn(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mn(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(pn(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(pn(t,this._rawAsyncValidators))}hasValidator(t){return It(this._rawValidators,t)}hasAsyncValidator(t){return It(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ce(ne({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new at(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new at(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ce(ne({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new rt(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new rt(!0,n))}markAsPending(t={}){this.status=Be;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Le(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ce(ne({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=nt,this.errors=null,this._forEachChild(a=>{a.disable(ce(ne({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dt(this.value,n)),this._events.next(new Le(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(ne({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(a=>a(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=it,this._forEachChild(n=>{n.enable(ce(ne({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ce(ne({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===it||this.status===Be)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dt(this.value,e)),this._events.next(new Le(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ce(ne({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nt:it}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Be,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=Sn(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(a=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(a,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,a)=>n&&n._find(a),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Le(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?nt:this.errors?Et:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Be)?Be:this._anyControlsHaveStatus(Et)?Et:it}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),a=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),a&&this._events.next(new rt(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new at(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jt(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=co(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=uo(this._rawAsyncValidators)}},Ge=class extends Ue{constructor(t,e,n){super(Bi(e),Li(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){kn(this,!0,t),Object.keys(t).forEach(n=>{On(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let a=this.controls[n];a&&a.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,a)=>{n.reset(t?t[a]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,a)=>((n.enabled||this.disabled)&&(e[a]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((a,m)=>{n=e(n,a,m)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var ji=class extends Ge{};var lt=new Fe("CallSetDisabledState",{providedIn:"root",factory:()=>Nt}),Nt="always";function jn(i,t){return[...t.path,i]}function At(i,t,e=Nt){Ui(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),po(i,t),ho(i,t),fo(i,t),mo(i,t)}function fn(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Pt(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Vt(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function mo(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function Ui(i,t){let e=Vn(i);t.validator!==null?i.setValidators(un(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=Pn(i);t.asyncValidator!==null?i.setAsyncValidators(un(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let a=()=>i.updateValueAndValidity();Vt(t._rawValidators,a),Vt(t._rawAsyncValidators,a)}function Pt(i,t){let e=!1;if(i!==null){if(t.validator!==null){let a=Vn(i);if(Array.isArray(a)&&a.length>0){let m=a.filter(g=>g!==t.validator);m.length!==a.length&&(e=!0,i.setValidators(m))}}if(t.asyncValidator!==null){let a=Pn(i);if(Array.isArray(a)&&a.length>0){let m=a.filter(g=>g!==t.asyncValidator);m.length!==a.length&&(e=!0,i.setAsyncValidators(m))}}}let n=()=>{};return Vt(t._rawValidators,n),Vt(t._rawAsyncValidators,n),e}function po(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Nn(i,t)})}function fo(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Nn(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function Nn(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ho(i,t){let e=(n,a)=>{t.valueAccessor.writeValue(n),a&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Tn(i,t){i==null,Ui(i,t)}function go(i,t){return Pt(i,t)}function Rn(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function vo(i){return Object.getPrototypeOf(i.constructor)===Ot}function Bn(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Ln(i,t){if(!t)return null;Array.isArray(t);let e,n,a;return t.forEach(m=>{m.constructor===G?e=m:vo(m)?n=m:a=m}),a||n||e||null}function bo(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var _o={provide:ve,useExisting:de(()=>Gi)},ot=Promise.resolve(),Gi=(()=>{class i extends ve{get submitted(){return ge(this.submittedReactive)}constructor(e,n,a){super(),this.callSetDisabledState=a,this._submitted=Te(()=>this.submittedReactive()),this.submittedReactive=Pe(!1),this._directives=new Set,this.ngSubmit=new De,this.form=new Ge({},Ti(e),Ri(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ot.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),At(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ot.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ot.then(()=>{let n=this._findContainer(e.path),a=new Ge({});Tn(a,e),n.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ot.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){ot.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Bn(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(n){return new(n||i)(u(ze,10),u(kt,10),u(lt,8))}}static{this.\u0275dir=H({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,a){n&1&&p("submit",function(g){return a.onSubmit(g)})("reset",function(){return a.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[me([_o]),ee]})}}return i})();function hn(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function gn(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var st=class extends Ue{constructor(t=null,e,n){super(Bi(e),Li(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jt(e)&&(e.nonNullable||e.initialValueIsDefault)&&(gn(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hn(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hn(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){gn(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var xo=i=>i instanceof st;var Co={provide:Ae,useExisting:de(()=>Hi)},vn=Promise.resolve(),Hi=(()=>{class i extends Ae{constructor(e,n,a,m,g,M){super(),this._changeDetectorRef=g,this.callSetDisabledState=M,this.control=new st,this._registered=!1,this.name="",this.update=new De,this._parent=e,this._setValidators(n),this._setAsyncValidators(a),this.valueAccessor=Ln(this,m)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Rn(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){At(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){vn.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,a=n!==0&&Ai(n);vn.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?jn(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(u(ve,9),u(ze,10),u(kt,10),u(He,10),u(rn,8),u(lt,8))}}static{this.\u0275dir=H({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[me([Co]),ee,Ke]})}}return i})(),X=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=H({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),yo={provide:He,useExisting:de(()=>zi),multi:!0},zi=(()=>{class i extends Ot{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Me(i)))(a||i)}})()}static{this.\u0275dir=H({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,a){n&1&&p("input",function(g){return a.onChange(g.target.value)})("blur",function(){return a.onTouched()})},features:[me([yo]),ee]})}}return i})();var Un=new Fe("");var wo={provide:ve,useExisting:de(()=>J)},J=(()=>{class i extends ve{get submitted(){return ge(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,n,a){super(),this.callSetDisabledState=a,this._submitted=Te(()=>this._submittedReactive()),this._submittedReactive=Pe(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new De,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return At(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){fn(e.control||null,e,!1),bo(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),Bn(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Oi(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new ki(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,a=this.form.get(e.path);n!==a&&(fn(n||null,e),xo(a)&&(At(a,e,this.callSetDisabledState),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Tn(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&go(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ui(this.form,this),this._oldForm&&Pt(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||i)(u(ze,10),u(kt,10),u(lt,8))}}static{this.\u0275dir=H({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,a){n&1&&p("submit",function(g){return a.onSubmit(g)})("reset",function(){return a.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[me([wo]),ee,Ke]})}}return i})();var Eo={provide:Ae,useExisting:de(()=>K)},K=(()=>{class i extends Ae{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,n,a,m,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.name=null,this.update=new De,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(a),this.valueAccessor=Ln(this,m)}ngOnChanges(e){this._added||this._setUpControl(),Rn(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return jn(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||i)(u(ve,13),u(ze,10),u(kt,10),u(He,10),u(Un,8))}}static{this.\u0275dir=H({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[me([Eo]),ee,Ke]})}}return i})(),So={provide:He,useExisting:de(()=>$e),multi:!0};function Gn(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Io(i){return i.split(":")[0]}var $e=(()=>{class i extends Ot{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),a=Gn(n,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Io(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Me(i)))(a||i)}})()}static{this.\u0275dir=H({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,a){n&1&&p("change",function(g){return a.onChange(g.target.value)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[me([So]),ee]})}}return i})(),Tt=(()=>{class i{constructor(e,n,a){this._element=e,this._renderer=n,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Gn(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(u(et),u(tt),u($e,9))}}static{this.\u0275dir=H({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),Fo={provide:He,useExisting:de(()=>Hn),multi:!0};function bn(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Mo(i){return i.split(":")[0]}var Hn=(()=>{class i extends Ot{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let a=e.map(m=>this._getOptionId(m));n=(m,g)=>{m._setSelected(a.indexOf(g.toString())>-1)}}else n=(a,m)=>{a._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let a=[],m=n.selectedOptions;if(m!==void 0){let g=m;for(let M=0;M<g.length;M++){let R=g[M],_e=this._getOptionValue(R.value);a.push(_e)}}else{let g=n.options;for(let M=0;M<g.length;M++){let R=g[M];if(R.selected){let _e=this._getOptionValue(R.value);a.push(_e)}}}this.value=a,e(a)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Mo(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Me(i)))(a||i)}})()}static{this.\u0275dir=H({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,a){n&1&&p("change",function(g){return a.onChange(g.target)})("blur",function(){return a.onTouched()})},inputs:{compareWith:"compareWith"},features:[me([Fo]),ee]})}}return i})(),Rt=(()=>{class i{constructor(e,n,a){this._element=e,this._renderer=n,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(bn(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(bn(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(u(et),u(tt),u(Hn,9))}}static{this.\u0275dir=H({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function Do(i){return typeof i=="number"?i:parseInt(i,10)}var zn=(()=>{class i{constructor(){this._validator=St}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):St,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=H({type:i,features:[Ke]})}}return i})();var Ao={provide:ze,useExisting:de(()=>$i),multi:!0};var $i=(()=>{class i extends zn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ai,this.createValidator=e=>yn}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Me(i)))(a||i)}})()}static{this.\u0275dir=H({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,a){n&2&&Mi("required",a._enabled?"":null)},inputs:{required:"required"},features:[me([Ao]),ee]})}}return i})();var Vo={provide:ze,useExisting:de(()=>Ve),multi:!0},Ve=(()=>{class i extends zn{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>Do(e),this.createValidator=e=>wn(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Me(i)))(a||i)}})()}static{this.\u0275dir=H({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,a){n&2&&Mi("minlength",a._enabled?a.minlength:null)},inputs:{minlength:"minlength"},features:[me([Vo]),ee]})}}return i})();var $n=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=F({type:i})}static{this.\u0275inj=I({})}}return i})(),Ni=class extends Ue{constructor(t,e,n){super(Bi(e),Li(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),e&&(this.controls.splice(a,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){kn(this,!1,t),t.forEach((n,a)=>{On(this,!1,a),this.at(a).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,a)=>{this.at(a)&&this.at(a).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,a)=>{n.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function _n(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Z=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let a=this._reduceControls(e),m={};return _n(n)?m=n:n!==null&&(m.validators=n.validator,m.asyncValidators=n.asyncValidator),new Ge(a,m)}record(e,n=null){let a=this._reduceControls(e);return new ji(a,n)}control(e,n,a){let m={};return this.useNonNullable?(_n(n)?m=n:(m.validators=n,m.asyncValidators=a),new st(e,ce(ne({},m),{nonNullable:!0}))):new st(e,n,a)}array(e,n,a){let m=e.map(g=>this._createControl(g));return new Ni(m,n,a)}_reduceControls(e){let n={};return Object.keys(e).forEach(a=>{n[a]=this._createControl(e[a])}),n}_createControl(e){if(e instanceof st)return e;if(e instanceof Ue)return e;if(Array.isArray(e)){let n=e[0],a=e.length>1?e[1]:null,m=e.length>2?e[2]:null;return this.control(n,a,m)}else return this.control(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ye=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:lt,useValue:e.callSetDisabledState??Nt}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=F({type:i})}static{this.\u0275inj=I({imports:[$n]})}}return i})(),ie=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Un,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:lt,useValue:e.callSetDisabledState??Nt}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=F({type:i})}static{this.\u0275inj=I({imports:[$n]})}}return i})();var D={Url:"http://34.197.52.229/"},x={token:""};var qe=class i{constructor(t){this.http=t}login(t){let e=new y({"Content-Type":"application/x-www-form-urlencoded"}),n=new URLSearchParams;return n.set("correo_usuario",t.correo_usuario),n.set("contrasena_usuario",t.contrasena_usuario),console.log("Datos enviados:",n.toString()),this.http.post(`${D.Url}usuarios/login`,n.toString())}registrarUsuarioConImagen(t,e){let n=new FormData;return n.append("nombre_usuario",t.nombre_usuario),n.append("apellidos_usuario",t.apellidos_usuario),n.append("correo_usuario",t.correo_usuario),n.append("contrasena_usuario",t.contrasena_usuario),n.append("telefono_usuario",t.telefono_usuario),n.append("tipo_usuario",t.tipo_usuario),n.append("estatus",t.estatus),n.append("file",e),n.append("descripcion",t.descripcion),this.http.post(`${D.Url}usuarios/register`,n)}saveToken(t){x.token=t,console.log("Token guardado:",t)}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};function Po(i,t){i&1&&(r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),c(4,"span",6)(5,"span",7)(6,"span",8)(7,"span",9),o(),r(8,"div",10),c(9,"span",6)(10,"span",7)(11,"span",8)(12,"span",9),o(),r(13,"div",11),c(14,"span",6)(15,"span",7)(16,"span",8)(17,"span",9),o(),r(18,"div",12),c(19,"span",6)(20,"span",7)(21,"span",8)(22,"span",9),o(),r(23,"div",13),c(24,"span",6)(25,"span",7)(26,"span",8)(27,"span",9),o(),c(28,"span",14),o()(),s(29,` Cargando....
`),o())}function Oo(i,t){i&1&&(r(0,"span"),s(1,"El correo es obligatorio."),o())}function ko(i,t){i&1&&(r(0,"span"),s(1,"Introduzca un correo v\xE1lido."),o())}function jo(i,t){if(i&1&&(r(0,"div",32),f(1,Oo,2,0,"span",1)(2,ko,2,0,"span",1),o()),i&2){let e,n,a=v(2);l(),d("ngIf",(e=a.loginFormulario.get("correo_usuario"))==null||e.errors==null?null:e.errors.required),l(),d("ngIf",(n=a.loginFormulario.get("correo_usuario"))==null||n.errors==null?null:n.errors.email)}}function No(i,t){i&1&&c(0,"img",33)}function To(i,t){i&1&&c(0,"img",34)}function Ro(i,t){i&1&&(r(0,"span"),s(1,"La contrase\xF1a es obligatoria."),o())}function Bo(i,t){if(i&1&&(r(0,"div",32),f(1,Ro,2,0,"span",1),o()),i&2){let e,n=v(2);l(),d("ngIf",(e=n.loginFormulario.get("contrasena_usuario"))==null||e.errors==null?null:e.errors.required)}}function Lo(i,t){if(i&1){let e=A();r(0,"div",35)(1,"div",36)(2,"p",37),s(3,"Credenciales incorrectas."),o(),r(4,"div",38),s(5,"!"),o(),r(6,"button",39),p("click",function(){w(e);let a=v(2);return E(a.closeAlert())}),s(7,"Aceptar"),o()()()}}function Uo(i,t){if(i&1){let e=A();r(0,"div"),c(1,"div",15),r(2,"h1",16),s(3," Iniciar sesi\xF3n "),c(4,"img",17),o(),r(5,"form",18),p("ngSubmit",function(){w(e);let a=v();return E(a.IniciarSesion())}),r(6,"label",19)(7,"span"),s(8,"Correo:"),o(),c(9,"input",20),f(10,jo,3,2,"div",21),o(),r(11,"label",22)(12,"span"),s(13,"Contrase\xF1a:"),o(),r(14,"div",23),c(15,"input",24),r(16,"p",25),p("click",function(){w(e);let a=v();return E(a.eye())}),f(17,No,1,0,"img",26)(18,To,1,0,"img",27),o()(),f(19,Bo,2,1,"div",21),o(),r(20,"button",28),s(21," Iniciar sesi\xF3n "),o(),r(22,"span",29),s(23," \xBFNo tienes una cuenta? "),r(24,"a",30),s(25,"Reg\xEDstrate"),o()()(),f(26,Lo,8,0,"div",31),o()}if(i&2){let e,n,a=v();l(5),d("formGroup",a.loginFormulario),l(5),d("ngIf",((e=a.loginFormulario.get("correo_usuario"))==null?null:e.invalid)&&((e=a.loginFormulario.get("correo_usuario"))==null?null:e.touched)),l(5),d("type",a.passworInput),l(2),d("ngIf",!a.ojo),l(),d("ngIf",a.ojo),l(),d("ngIf",((n=a.loginFormulario.get("contrasena_usuario"))==null?null:n.invalid)&&((n=a.loginFormulario.get("contrasena_usuario"))==null?null:n.touched)),l(),d("disabled",a.loginFormulario.invalid),l(6),d("ngIf",a.showAlert)}}var Bt=class i{constructor(t,e,n){this.fb=t;this.loginService=e;this.router=n;this.loginFormulario=this.fb.group({correo_usuario:["",[_.required,_.email]],contrasena_usuario:["",_.required]})}loginFormulario;alerta=null;showAlert=!1;ojo=!1;cargando=!1;IniciarSesion(){if(this.cargando=!0,this.loginFormulario.valid){let t=this.loginFormulario.value;this.loginService.login(t).subscribe({next:e=>{this.loginService.saveToken(e.access_token),sessionStorage.setItem("userId",e.id_usuario.toString()),this.alerta=null,this.showAlert=!1,sessionStorage.setItem("alerta","si"),this.router.navigate(["/red/publicaciones"]),console.log(e)},error:e=>{this.alerta="Correo o contrase\xF1a incorrectos.",this.showAlert=!0,this.cargando=!1,console.log(e)}})}else console.log("complete todos los campos"),this.alerta="Por favor, complete todos los campos.",this.showAlert=!0}passworInput="password";eye(){this.ojo=!this.ojo,this.ojo?this.passworInput="text":this.passworInput="password"}closeAlert(){this.showAlert=!1,this.cargando=!1}static \u0275fac=function(e){return new(e||i)(u(Z),u(qe),u(P))};static \u0275cmp=h({type:i,selectors:[["app-formulario-login"]],decls:2,vars:2,consts:[["class","w-full flex text-center items-center justify-center text-[#df7214]  flex-col h-[200px] ",4,"ngIf"],[4,"ngIf"],[1,"w-full","flex","text-center","items-center","justify-center","text-[#df7214]","flex-col","h-[200px]"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],[1,"w-full","flex","justify-center"],[1,"w-full","text-center","flex","justify-center","items-center","rounded-lg","bg-white","font-bold","my-5","text-[#61A146]","text-4xl","p-5"],["src","LOGO.png","alt","",1,"w-[75px]"],[1,"flex","text-[#61A146]","flex-col","justify-between","w-[100%]","h-[350px]","p-5","bg-white","border","border-black","rounded-lg",3,"ngSubmit","formGroup"],["for","email"],["formControlName","correo_usuario","id","email","type","email","placeholder","Introduzca su correo electr\xF3nico",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-3"],["class","text-red-500",4,"ngIf"],["for","password",1,"block"],[1,"relative"],["formControlName","contrasena_usuario","id","password","placeholder","Introduzca su contrase\xF1a",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-3","pr-12",3,"type"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","cursor-pointer",3,"click"],["src","icons8-visible-100.png","alt","Mostrar contrase\xF1a","class","h-6 w-6",4,"ngIf"],["src","icons8-no-visible-50.png","alt","Ocultar contrase\xF1a","class","h-6 w-6",4,"ngIf"],["type","submit",1,"p-3","text-white","bg-[#61A146]","rounded-lg","w-full",3,"disabled"],[1,"block","w-full","text-center"],["href","/registro",1,"hover:border-b","hover:border-[#61A146]","hover:text-[#346321]"],["class","fixed inset-0 flex items-center justify-center z-50 bg-gray-800 bg-opacity-75",4,"ngIf"],[1,"text-red-500"],["src","icons8-visible-100.png","alt","Mostrar contrase\xF1a",1,"h-6","w-6"],["src","icons8-no-visible-50.png","alt","Ocultar contrase\xF1a",1,"h-6","w-6"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50","bg-gray-800","bg-opacity-75"],[1,"bg-white","p-6","rounded-lg","shadow-lg","text-center"],[1,"mb-4","text-[#61A146]","text-xl"],[1,"text-red-500","text-7xl","mb-4"],[1,"bg-green-500","text-white","px-4","py-2","rounded","hover:bg-green-600",3,"click"]],template:function(e,n){e&1&&f(0,Po,30,0,"div",0)(1,Uo,27,8,"div",1),e&2&&(d("ngIf",n.cargando),l(),d("ngIf",!n.cargando))},dependencies:[S,X,G,Y,W,J,K],styles:[".container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:100%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:20px;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000c2;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var Lt=class i{constructor(t){this.title=t}ngOnInit(){this.title.setTitle("Econexion | Login")}static \u0275fac=function(e){return new(e||i)(u(U))};static \u0275cmp=h({type:i,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"w-full","flex","justify-center","items-center","h-screen","bg-logo4","bg-cover","bg-center","p-5"],[1,"p-5","md:p-10","flex","flex-col","justify-center","bg-[#bde7ac8a]","backdrop-blur-md","animate-expand","overflow-hidden","w-[500px]","rounded-xl"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),c(2,"app-formulario-login"),o()())},dependencies:[Bt],styles:["*[_ngcontent-%COMP%]{opacity:calc()}"]})};function Ho(i,t){i&1&&(r(0,"small",22),s(1," El nombre es obligatorio. "),o())}function zo(i,t){i&1&&(r(0,"small",22),s(1," El correo electr\xF3nico es obligatorio y debe ser v\xE1lido. "),o())}function $o(i,t){i&1&&(r(0,"small",22),s(1," Los apellidos son obligatorios. "),o())}function qo(i,t){i&1&&(r(0,"small",22),s(1," La contrase\xF1a es obligatoria. "),o())}function Yo(i,t){i&1&&(r(0,"small",22),s(1," introduaca un numero de telefono valido. "),o())}function Wo(i,t){i&1&&(r(0,"small",22),s(1," Las contrase\xF1as no coinciden. "),o())}function Xo(i,t){i&1&&(r(0,"small",22),s(1," La descripci\xF3n es obligatoria y debe contener al menos 10 caracteres. "),o())}function Zo(i,t){i&1&&c(0,"div",23)}function Qo(i,t){if(i&1){let e=A();r(0,"div",24)(1,"div",25)(2,"h1",26),s(3," Debe llenar todos los campos"),o(),c(4,"img",27),r(5,"button",28),p("click",function(){w(e);let a=v();return E(a.closeError())}),s(6,"Aceptar"),o()()()}}function Jo(i,t){if(i&1){let e=A();r(0,"div",24)(1,"div",25)(2,"h1",26),s(3,"Registrado con las credenciales"),o(),r(4,"div")(5,"span"),s(6),o(),r(7,"span"),s(8),o()(),r(9,"button",28),p("click",function(){w(e);let a=v();return E(a.aceptar())}),s(10,"Aceptar"),o()()()}if(i&2){let e=v();l(6),C("Email: ",e.guardado.correo_usuario," "),l(2),C("Contrase\xF1a: ",e.guardado.contrasena_usuario," ")}}var Ut=class i{constructor(t,e,n){this._router=t;this.fb=e;this.loginService=n;this.registroForm=this.fb.group({nombre_usuario:["",_.required],apellidos_usuario:["",_.required],correo_usuario:["",[_.required,_.email]],contrasena_usuario:["",_.required],telefono_usuario:["",_.required],tipo_usuario:["usuario",_.required],estatus:["activo",_.required],descripcion:["",[_.required,_.minLength(10)]],conf_contrasena_usuario:["",_.required]})}registroForm;mostrarErrorContrasenas=!1;imagenSeleccionada=null;creado=!1;error=!1;guardado={nombre_usuario:"",apellidos_usuario:"",correo_usuario:"",contrasena_usuario:"",telefono_usuario:0,tipo_usuario:"",estatus:"",descripcion:"",conf_contrasena_usuario:""};onImagenSeleccionada(t){let e=t.target.files[0];e&&(this.imagenSeleccionada=e)}validarContrasenas(){let t=this.registroForm.get("contrasena_usuario")?.value,e=this.registroForm.get("conf_contrasena_usuario")?.value;console.log(t+"=="+e),t==e?(this.mostrarErrorContrasenas=!1,console.log("las contrase\xF1as coinciden")):(this.mostrarErrorContrasenas=!0,console.log("No coinciden"))}confValidarContrasenas(){let t=this.registroForm.get("contrasena_usuario")?.value,e=this.registroForm.get("conf_contrasena_usuario")?.value;console.log(t+"=="+e),t!=e?(this.mostrarErrorContrasenas=!0,console.log("las contrase\xF1as no coinciden")):(this.mostrarErrorContrasenas=!1,console.log("coinciden"))}registrado=!1;registrarUsuario(){if(this.registroForm.valid&&this.imagenSeleccionada){let t=this.registroForm.value;this.loginService.registrarUsuarioConImagen(t,this.imagenSeleccionada).subscribe({next:e=>{this.registrado=!0,this.creado=!0,console.log(this.registrado),console.log("Usuario registrado con \xE9xito:",e),this.guardado=e,console.log(t,this.imagenSeleccionada),this._router.navigate(["/login"])},error:e=>{console.error("Error al registrar usuario:",e),console.log(t,this.imagenSeleccionada),this.error=!0}})}else console.error("Formulario inv\xE1lido o imagen no seleccionada"),this.error=!0}closeError(){this.error=!1}aceptar(){this.registrado=!1,this.creado=!0}static \u0275fac=function(e){return new(e||i)(u(P),u(Z),u(qe))};static \u0275cmp=h({type:i,selectors:[["app-formulario-registro"]],decls:54,vars:13,consts:[[1,"w-full","border","border-black/60","text-center","flex","justify-center","items-center","rounded-lg","bg-white","font-bold","mb-5","text-[#61A146]","text-4xl","p-2"],["src","LOGO.png","alt","",1,"w-[75px]"],["enctype","multipart/form-data",1,"flex","text-[#61A146]","flex-col","lg:flex-row","flex-wrap","rounded-xl","justify-between","px-5","bg-white","border","border-black",3,"ngSubmit","formGroup"],[1,"w-full","text-center","flex","justify-center","items-center","rounded-lg","bg-white","my-5","text-[#61A146]","text-2xl","p-2"],[1,"my-2","lg:px-5","lg:w-1/2","flex","flex-col"],["type","text","formControlName","nombre_usuario","placeholder","Introduzca su nombre de usuario",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1"],["class","text-red-500",4,"ngIf"],["type","email","formControlName","correo_usuario","placeholder","Introduzca su correo electr\xF3nico",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1"],["type","text","formControlName","apellidos_usuario","placeholder","Introduzca sus apellidos",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1"],["type","password","formControlName","contrasena_usuario","placeholder","Introduzca su contrase\xF1a",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1",3,"input"],["type","text","formControlName","telefono_usuario","placeholder","Introduzca su n\xFAmero de tel\xE9fono",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1",3,"maxLength","minlength"],["type","password","formControlName","conf_contrasena_usuario","placeholder","Confirme su contrase\xF1a",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1",3,"input"],[1,"my-2","lg:px-5","w-full","flex","flex-col"],["rows","4","formControlName","descripcion","placeholder","Introduzca una breve descripci\xF3n de usted",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1"],[1,"my-2","lg:px-5","lg:w-full","items-center","justify-center","flex","flex-col"],[1,"w-full","flex","justify-center","border-2","border-[#BDE7AC]"],["type","file","accept","image/*",1,"flex","justify-center","items-center","text-center","file:bg-transparent","file:border-none","cursor-pointer","rounded-lg","p-5",3,"change"],[1,"flex","w-full","justify-evenly"],["type","submit",1,"p-3","my-5","text-white","bg-[#61A146]","rounded-lg","w-[40%]","hover:bg-[#3a7122]"],["routerLink","/login",1,"border","border-green-600","text-green-600","p-3","my-5","rounded-lg","hover:bg-green-100","w-[40%]","text-center"],["class","w-full h-screen absolute top-0 left-0 bg-black/70",4,"ngIf"],["class","w-full h-full absolute top-0 left-0 bg-black/70 rounded-lg flex justify-center items-center",4,"ngIf"],[1,"text-red-500"],[1,"w-full","h-screen","absolute","top-0","left-0","bg-black/70"],[1,"w-full","h-full","absolute","top-0","left-0","bg-black/70","rounded-lg","flex","justify-center","items-center"],[1,"w-[300px]","h-[350px]","bg-white","rounded-lg","flex","justify-between","flex-col","items-center","p-5"],[1,"w-full","text-green-600","text-center","text-xl"],["src","icons8-error-100.png","alt",""],[1,"p-2","bg-green-600","text-white","w-full","rounded-lg",3,"click"]],template:function(e,n){if(e&1&&(r(0,"h1",0),s(1," Registrate en econexion "),c(2,"img",1),o(),r(3,"form",2),p("ngSubmit",function(){return n.registrarUsuario()}),r(4,"h1",3),s(5,` Ingresa tus datos
`),o(),r(6,"label",4)(7,"span"),s(8,"Nombre:"),o(),c(9,"input",5),f(10,Ho,2,0,"small",6),o(),r(11,"label",4)(12,"span"),s(13,"Correo electr\xF3nico:"),o(),c(14,"input",7),f(15,zo,2,0,"small",6),o(),r(16,"label",4)(17,"span"),s(18,"Apellidos:"),o(),c(19,"input",8),f(20,$o,2,0,"small",6),o(),r(21,"label",4)(22,"span"),s(23,"Contrase\xF1a:"),o(),r(24,"input",9),p("input",function(){return n.validarContrasenas()}),o(),f(25,qo,2,0,"small",6),o(),r(26,"label",4)(27,"span"),s(28,"Tel\xE9fono:"),o(),c(29,"input",10),f(30,Yo,2,0,"small",6),o(),r(31,"label",4)(32,"span"),s(33,"Confirme su contrase\xF1a:"),o(),r(34,"input",11),p("input",function(){return n.confValidarContrasenas()}),o(),f(35,Wo,2,0,"small",6),o(),r(36,"label",12)(37,"span"),s(38,"Descripci\xF3n:"),o(),c(39,"textarea",13),f(40,Xo,2,0,"small",6),o(),r(41,"label",14)(42,"span"),s(43,"Foto de perfil:"),o(),r(44,"div",15)(45,"input",16),p("change",function(m){return n.onImagenSeleccionada(m)}),o()()(),r(46,"div",17)(47,"button",18),s(48,"Crear usuario"),o(),r(49,"a",19),s(50," Cancelar"),o()()(),f(51,Zo,1,0,"div",20)(52,Qo,7,0,"div",21)(53,Jo,11,2,"div",21)),e&2){let a,m,g,M,R,_e;l(3),d("formGroup",n.registroForm),l(7),d("ngIf",((a=n.registroForm.get("nombre_usuario"))==null?null:a.invalid)&&((a=n.registroForm.get("nombre_usuario"))==null?null:a.touched)),l(5),d("ngIf",((m=n.registroForm.get("correo_usuario"))==null?null:m.invalid)&&((m=n.registroForm.get("correo_usuario"))==null?null:m.touched)),l(5),d("ngIf",((g=n.registroForm.get("apellidos_usuario"))==null?null:g.invalid)&&((g=n.registroForm.get("apellidos_usuario"))==null?null:g.touched)),l(5),d("ngIf",((M=n.registroForm.get("contrasena_usuario"))==null?null:M.invalid)&&((M=n.registroForm.get("contrasena_usuario"))==null?null:M.touched)),l(4),d("maxLength",10)("minlength",10),l(),d("ngIf",((R=n.registroForm.get("telefono_usuario"))==null?null:R.invalid)&&((R=n.registroForm.get("telefono_usuario"))==null?null:R.touched)),l(5),d("ngIf",n.mostrarErrorContrasenas),l(5),d("ngIf",((_e=n.registroForm.get("descripcion"))==null?null:_e.invalid)&&((_e=n.registroForm.get("descripcion"))==null?null:_e.touched)),l(11),d("ngIf",n.creado),l(),d("ngIf",n.error),l(),d("ngIf",n.creado)}},dependencies:[S,k,X,G,Y,W,Ve,J,K]})};var Gt=class i{constructor(t){this.title=t}ngOnInit(){this.title.setTitle("Econexion | Registro")}static \u0275fac=function(e){return new(e||i)(u(U))};static \u0275cmp=h({type:i,selectors:[["app-registro"]],decls:3,vars:0,consts:[[1,"w-full","flex","justify-center","items-center","bg-logo4","bg-cover","bg-center","p-5"],[1,"p-10","bg-[#bde7ac8a]","backdrop-blur-md","w-[300px]","lg:w-3/4","rounded-xl"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),c(2,"app-formulario-registro"),o()())},dependencies:[Ut]})};var er=[{path:"login",component:Lt},{path:"",redirectTo:"login",pathMatch:"full"},{path:"registro",component:Gt}],Ye=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[N.forChild(er),N]})};var Yn=(i,t)=>x.token!="";var fe=class i{constructor(t){this._http=t}contactos=[];modal=!1;api=D.Url+"lista_contacto/";postContact(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.post(this.api,t,{headers:e})}getMyContactosById(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.get(this.api+t,{headers:e})}putContactoById(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.put(this.api,t,{headers:e})}deleteContacto(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.delete(this.api+t,{headers:e})}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var Q=class i{constructor(t){this._http=t}api=D.Url+"usuario_has_chat/";chats=[];user_has_chat=[];getUsHasChatById(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.get(this.api+"by_usuario/"+t,{headers:e})}getUsHasChatByChat(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.get(this.api+"by_chat/"+t,{headers:e})}postUsHasChat(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.post(this.api,t,{headers:e})}putUsHasChat(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.put(this.api,t,{headers:e})}deleteUsHasChat(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.delete(this.api+t,{headers:e})}apiChat=D.Url+"chat/";getMyChatsById(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.get(this.apiChat+t,{headers:e})}postChat(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.post(this.apiChat,t,{headers:e})}putChatById(t,e){let n=new y({Authorization:`Bearer ${x.token}`});return this._http.put(this.apiChat+t,e,{headers:n})}deleteCchat(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.delete(this.apiChat+t,{headers:e})}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};function tr(i,t){if(i&1){let e=A();r(0,"div",7)(1,"form",8),p("submit",function(){w(e);let a=v();return E(a.handleClickAddContact())}),r(2,"h1",9),s(3,"Agrega un contacto"),o(),r(4,"label",10),s(5," Email: "),c(6,"input",11),o(),r(7,"div",12)(8,"button",13),s(9," Agregar "),o(),r(10,"button",14),p("click",function(){w(e);let a=v();return E(a.handleClickCloseModalAddContact())}),s(11," Cancelar "),o()()()()}if(i&2){let e=v();l(),d("formGroup",e.Formulario)}}var zt=class i{constructor(t,e,n,a){this.title=t;this._user_service=e;this.fb=n;this._service_chat=a;this.Formulario=this.fb.group({usuario_correo:["",[_.required,_.email]],id_usuario:sessionStorage.getItem("userId")})}Formulario;modalAddContact=!1;mi_id;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.mi_id=Number(t)),this.title.setTitle("Econexion | Chats")}HandleClickOpenAddContact(){this._user_service.modal=!0}handleClickCloseModalAddContact(){this._user_service.modal=!1}handleClickAddContact(){let t=this.Formulario.value;this._user_service.postContact(t).subscribe(e=>{console.log(e),this._user_service.contactos.push(e)},e=>{console.log("error",e)}),this.Formulario.reset({usuario_correo:"",id_usuario:this.Formulario.get("id_usuario")?.value}),this._user_service.modal=!1}HandleClickAddContact(){}static \u0275fac=function(e){return new(e||i)(u(U),u(fe),u(Z),u(Q))};static \u0275cmp=h({type:i,selectors:[["app-chat"]],decls:11,vars:1,consts:[[1,"h-[15%]","flex","justify-center","bg-transparent","p-5","w-full"],[1,"flex","justify-between","px-5","w-3/5","items-center","border","border-dashed","border-[#61A146]","bg-white","rounded-xl","text-[#61A146]"],[1,"cursor-pointer",3,"click"],["routerLink","/red/chats",1,"text-2xl"],["routerLink","contactos"],["id","scrollme",1,"h-[85%]"],["class","absolute top-0 left-0 w-full h-screen bg-black/80 flex  justify-center items-center",4,"ngIf"],[1,"absolute","top-0","left-0","w-full","h-screen","bg-black/80","flex","justify-center","items-center"],[1,"flex","flex-col","justify-between","w-80","h-52","bg-green-600","p-2",3,"submit","formGroup"],[1,"w-full","text-2xl","text-center","p-2","text-white"],["for","Email",1,"w-full","text-white","p-3"],["formControlName","usuario_correo","placeholder","Correo electronico del contacto","type","email","name","","id","Email",1,"w-full","text-green-600","p-2","rounded"],[1,"w-full","flex","justify-around","p-2"],["type","submit",1,"border","text-white","border-white","hover:text-green-600","p-2","rounded-md","hover:bg-green-100"],["type","button",1,"border","text-green-600","border-green-600","p-2","rounded-md","bg-green-100","hover:bg-green-700","hover:border","hover:text-white","hover:border-white",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),p("click",function(){return n.HandleClickOpenAddContact()}),s(3,"Agregar Contacto"),o(),r(4,"a",3),s(5,"Chats"),o(),r(6,"a",4),s(7,"Contactos"),o()()(),r(8,"div",5),c(9,"router-outlet"),o(),f(10,tr,12,1,"div",6)),e&2&&(l(10),d("ngIf",n._user_service.modal))},dependencies:[S,ae,k,X,G,Y,W,J,K]})};var z=class i{constructor(t){this.http=t}chatWith_user={apellidos_usuario:"",contrase\u00F1a_usuario:"",correo_usuario:"",descripcion:"",estatus:"",id_usuario:0,imagen_usuario:"",nombre_usuario:"",telefono_usuario:0,tipo_usuario:""};usuario;getPerfil(){let t=new y({Authorization:`Bearer ${x.token}`}),e=sessionStorage.getItem("userId");if(!e)throw new Error("No se encontr\xF3 el ID del usuario en el sessionStorage");let n=`${D.Url}usuarios/${e}`;return this.http.get(n,{headers:t})}getPerfilById(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.get(`${D.Url}usuarios/${t}`,{headers:e})}updatePerfilById(t){let e=new y({Authorization:`Bearer ${x.token}`}),n=sessionStorage.getItem("userId");if(!n)throw new Error("No se encontr\xF3 el ID del usuario en el sessionStorage");let a=`${D.Url}usuarios/${n}`;return this.http.put(`${D.Url}usuarios/${n}`,t,{headers:e})}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};function ir(i,t){if(i&1){let e=A();r(0,"div",6)(1,"div",7)(2,"h1",8),s(3),o(),r(4,"div",9)(5,"button",10),p("click",function(){w(e);let a=v();return E(a.handleClickDeleteContact())}),s(6,"Eliminar"),o(),r(7,"button",11),p("click",function(){w(e);let a=v();return E(a.handleClickDeleteCancel())}),s(8," Cancelar "),o()()()()}if(i&2){let e=v();l(3),C("seguro que desea eliminar de su lista de contactos a ",e.contacto.usuario_correo,"")}}var $t=class i{constructor(t,e,n,a){this._service_contact=t;this._service_chat=e;this.router=n;this._perfil_service=a}ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.myId=Number(t))}chats_contacto1=[];chats_contacto2=[];myId;existe=!1;confirmDelete=!1;newChat={id_chat:0,ultimo_msj:"",grupal:!1};contacto={usuario_correo:"",idlista:0,id_usuario:0};coinciden(){this.existe=!0}handleClickGoToChat(){ht([this._service_chat.getUsHasChatById(this.contacto.id_usuario),this._service_chat.getUsHasChatById(this.myId)]).subscribe(([t,e])=>{let n=t.find(a=>{e.some(m=>{a.chat_idchat===m.chat_idchat&&this._service_chat.getMyChatsById(a.chat_idchat).subscribe(g=>{console.log(g)})})});n?(this.existe=!0,this._perfil_service.getPerfilById(this.contacto.id_usuario).subscribe(a=>{this._perfil_service.chatWith_user=a,console.log(a)}),this.router.navigate(["/red/chats/with/"+n.chat_idchat])):(this.existe=!1,this.noexiste())},t=>console.error("Error al obtener los chats:",t))}noexiste(){let t={ultimo_msj:"",grupal:!1};this._service_chat.postChat(t).subscribe(e=>{console.log("Nuevo chat agregado:",e);let n={usuario_idusuario:this.contacto.id_usuario,chat_idchat:e.id_chat};this._service_chat.postUsHasChat(n).subscribe(m=>{console.log("Nuevo usuario agregado a chat:",m)},m=>{console.log("error al ir al chat",m)});let a={chat_idchat:e.id_chat,usuario_idusuario:this.myId};this._service_chat.postUsHasChat(a).subscribe(m=>{console.log("Nuevo usuario agregado a chat:",m),this.router.navigate(["/red/chats/with/"+m.chat_idchat])},m=>{console.log("error al ir al chat",m)})},e=>{console.error("Error al agregar nuevo chat:",e)})}handleClickDeleteContact(){this._service_contact.deleteContacto(this.contacto.idlista).subscribe(t=>{console.log("contacto eliminado",t)},t=>console.log("Error al eliminar al contacto",t)),this.confirmDelete=!1}handleClickAlertDeleteContact(){this.confirmDelete=!0}handleClickDeleteCancel(){this.confirmDelete=!1}static \u0275fac=function(e){return new(e||i)(u(fe),u(Q),u(P),u(z))};static \u0275cmp=h({type:i,selectors:[["app-contacto"]],inputs:{contacto:"contacto"},decls:8,vars:2,consts:[[1,"w-full","justify-between","h-full","flex","select-none"],[1,"flex","w-1/2","justify-between","items-center","cursor-pointer",3,"click"],[1,"text-green-600","mx-5"],[1,"flex","w-3/12","justify-center","m-2"],[1,"border","border-green-600","text-green-600","w-32","p-1","rounded-md","hover:bg-green-100",3,"click"],["class","absolute top-0 left-0 w-full h-screen bg-black/80 flex  justify-center items-center",4,"ngIf"],[1,"absolute","top-0","left-0","w-full","h-screen","bg-black/80","flex","justify-center","items-center"],[1,"flex","flex-col","justify-between","w-80","h-52","bg-green-600","p-2"],[1,"w-full","text-2xl","text-center","p-2","text-white"],[1,"w-full","flex","justify-around","p-2"],[1,"border","text-white","border-white","hover:text-green-600","p-2","rounded-md","hover:bg-green-100",3,"click"],[1,"border","text-green-600","border-green-600","p-2","rounded-md","bg-green-100",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),p("click",function(){return n.handleClickGoToChat()}),r(2,"span",2),s(3),o()(),r(4,"div",3)(5,"button",4),p("click",function(){return n.handleClickAlertDeleteContact()}),s(6,"Eliminar"),o()()(),f(7,ir,9,1,"div",5)),e&2&&(l(3),C(" ",n.contacto.usuario_correo," "),l(4),d("ngIf",n.confirmDelete))},dependencies:[S]})};function or(i,t){if(i&1){let e=A();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),c(4,"span",7)(5,"span",8)(6,"span",9)(7,"span",10),o(),r(8,"div",11),c(9,"span",7)(10,"span",8)(11,"span",9)(12,"span",10),o(),r(13,"div",12),c(14,"span",7)(15,"span",8)(16,"span",9)(17,"span",10),o(),r(18,"div",13),c(19,"span",7)(20,"span",8)(21,"span",9)(22,"span",10),o(),r(23,"div",14),c(24,"span",7)(25,"span",8)(26,"span",9)(27,"span",10),o(),c(28,"span",15),o()(),s(29," Upss, aun no tienes Contactos agregados, "),r(30,"a",16),p("click",function(){w(e);let a=v();return E(a.agregarContacto())}),s(31," agregar uno"),o()()}}function rr(i,t){if(i&1&&(r(0,"div",17),c(1,"app-contacto",18),o()),i&2){let e=t.$implicit;l(),d("contacto",e)}}var qt=class i{constructor(t){this._servicio_contactos=t}id_user;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.id_user=Number(t)),this._servicio_contactos.getMyContactosById(this.id_user).subscribe(e=>{this._servicio_contactos.contactos=e.reverse()},e=>{console.log("error",e)})}agregarContacto(){this._servicio_contactos.modal=!0}static \u0275fac=function(e){return new(e||i)(u(fe))};static \u0275cmp=h({type:i,selectors:[["app-contactos"]],decls:3,vars:2,consts:[["id","scrollme",1,"h-full","space-y-3","overflow-hidden","overflow-y-scroll","flex","flex-col","items-center","px-5"],["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","shadow-md hover:bg-gradient-to-r from-green-600/20 to-white border-green-600 flex-col flex justify-between rounded   border w-3/5",4,"ngFor","ngForOf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],[1,"text-green-600","mx-2","border-b","border-green-600","cursor-pointer",3,"click"],[1,"shadow-md","hover:bg-gradient-to-r","from-green-600/20","to-white","border-green-600","flex-col","flex","justify-between","rounded","border","w-3/5"],[3,"contacto"]],template:function(e,n){e&1&&(r(0,"div",0),f(1,or,32,0,"div",1)(2,rr,2,1,"div",2),o()),e&2&&(l(),d("ngIf",n._servicio_contactos.contactos.length<=0),l(),d("ngForOf",n._servicio_contactos.contactos))},dependencies:[L,S,$t],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}.container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var Ie=class i{constructor(t){this.http=t}apiUrl=`${D.Url}donaciones/`;obtenerDonaciones(){let t=new y({Authorization:`Bearer ${x.token}`});return this.http.get(this.apiUrl,{headers:t})}obtenerDonacionesPorID(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.get(this.apiUrl+t,{headers:e})}crearDonacion(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.post(this.apiUrl,t,{headers:e})}actualizarDonacion(t,e){let n=new y({Authorization:`Bearer ${x.token}`});return this.http.put(`${this.apiUrl}${t}`,e,{headers:n})}eliminarDonacion(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.delete(`${this.apiUrl}${t}`,{headers:e})}obtenerDonacionesPorUsuario(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.get(`${this.apiUrl}donaciones_by_user/${t}`,{headers:e})}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var se=class i{constructor(t){this.http=t}Eventos=[];obtenerEventos(){let t=new y({Authorization:`Bearer ${x.token}`});return this.http.get(D.Url+"eventos",{headers:t})}obtenerEventosPorUsuario(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.get(`${D.Url}eventos/eventos/${t}`,{headers:e})}crearEvento(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.post(`${D.Url}eventos`,t,{headers:e})}obtenerEventoPorId(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.get(`${D.Url}eventos/${t}`,{headers:e})}editarEvento(t,e){let n=new y({Authorization:`Bearer ${x.token}`});return this.http.put(`${D.Url}eventos/${t}`,e,{headers:n})}eliminarEvento(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.delete(`${D.Url}eventos/${t}`,{headers:e})}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};function ar(i,t){if(i&1){let e=A();r(0,"div",10)(1,"div",11)(2,"h1"),s(3),o(),r(4,"div",12)(5,"div",13)(6,"span",14),s(7," Descripcion: "),o(),r(8,"span",15),s(9),o()(),r(10,"div",13)(11,"span",14),s(12," Ubicacion: "),o(),r(13,"span",15),s(14),o()(),r(15,"div",13)(16,"span",14),s(17," Fecha de Inicio: "),o(),r(18,"span",15),s(19),o()(),r(20,"div",13)(21,"span",14),s(22," Fecha de Termino: "),o(),r(23,"span",15),s(24),o()(),r(25,"div",13)(26,"span",14),s(27," Estatus: "),o(),r(28,"span",15),s(29),o()()(),r(30,"button",16),p("click",function(){w(e);let a=v();return E(a.handleClickCloseModal())}),s(31,"Cancelar"),o()()()}if(i&2){let e=v();l(3),C(" ",e.evento.nombre," "),l(6),C(" ",e.evento.descripcion," "),l(5),C(" ",e.evento.ubicacion," "),l(5),C(" ",e.evento.fecha_creacion," "),l(5),C(" ",e.evento.fecha_termino," "),l(5),C(" ",e.evento.estatus," ")}}var Yt=class i{constructor(t,e,n){this._evento_service=t;this.router=e;this._donacion_service=n}donacion;evento;modal=!1;estado="bg-green-500";ngOnInit(){console.log("Objeto donaci\xF3n recibido:",this.donacion),this._evento_service.obtenerEventoPorId(this.donacion.id_evento).subscribe(t=>{this.evento=t,this.donacion.estatus==="Terminado"?this.estado="bg-gray-300":this.estado="bg-green-500"})}handleClickExpandEvent(){this.modal=!0}handleClickCloseModal(){this.modal=!1}actualizarDonacion(t){console.log("ID de la donaci\xF3n:",t),this.router.navigate([`red/Donaciones/donacionesform/${t}`])}eliminarDonacion(t){confirm("\xBFEst\xE1s seguro de que deseas eliminar esta donaci\xF3n?")&&this._donacion_service.eliminarDonacion(t).subscribe({next:()=>{alert("Donaci\xF3n eliminada con \xE9xito"),window.location.reload()},error:e=>{console.error("Error al eliminar la donaci\xF3n:",e),e.status===400||e.status===409?alert("No se puede eliminar la donaci\xF3n porque est\xE1 asociada a otro recurso."):alert("Ocurri\xF3 un error inesperado. Int\xE9ntalo de nuevo m\xE1s tarde.")}})}static \u0275fac=function(e){return new(e||i)(u(se),u(P),u(Ie))};static \u0275cmp=h({type:i,selectors:[["app-card-donacion"]],inputs:{donacion:"donacion"},decls:29,vars:8,consts:[[1,"border","border-green-500","rounded-lg","p-4","mb-4"],[1,"flex","justify-between"],[1,"w-2/3","p-2","flex","justify-evenly","items-center","text-green-600","bg-blue-100/50","rounded-2xl"],[1,"w-5","mx-5","text-white","rounded","bg-green-600","flex","justify-center","object-fill","items-center","h-5",3,"click"],["src","expandir.png","alt",""],[1,"w-1/3","flex","text-[12px]","justify-end"],[1,"flex","justify-between","mt-2"],[1,"w-full","flex","justify-end"],[1,"text-white","rounded","w-[100px]","m-3","p-2",3,"click","disabled","ngClass"],["class","w-screen h-screen flex flex-col justify-center items-center absolute top-0 left-0 bg-black/60",4,"ngIf"],[1,"w-screen","h-screen","flex","flex-col","justify-center","items-center","absolute","top-0","left-0","bg-black/60"],[1,"w-[420px]","h-[520px]","flex","justify-between","p-10","items-center","flex-col","border","bg-white/80"],[1,"flex","flex-col","bg-blue-100/50","w-full"],[1,"w-full","p-3","flex"],[1,"w-1/2"],[1,"w-1/2","text-center"],["type","submit",1,"bg-green-600","text-white","rounded","p-2",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"span",2)(3,"strong"),s(4,"Nombre del evento: "),o(),s(5),r(6,"i",3),p("click",function(){return n.handleClickExpandEvent()}),c(7,"img",4),o()(),r(8,"span",5)(9,"strong"),s(10,"Fecha: "),o(),s(11),o()(),r(12,"div",6)(13,"span")(14,"strong"),s(15,"Tipo:"),o(),s(16),o(),r(17,"span")(18,"strong"),s(19,"Cantidad:"),o(),s(20),o(),r(21,"span")(22,"strong"),s(23,"Estatus:"),o(),s(24),o()(),r(25,"div",7)(26,"button",8),p("click",function(){return n.actualizarDonacion(n.donacion.id_donaciones)}),s(27," Editar "),o()()(),f(28,ar,32,6,"div",9)),e&2&&(l(5),C(" ",n.evento.nombre," "),l(6),C(" ",n.donacion.fecha,""),l(5),C(" ",n.donacion.tipo_donacion,""),l(4),C(" ",n.donacion.cantidad,""),l(4),C(" ",n.donacion.estatus,""),l(2),d("disabled",n.donacion.estatus==="Terminado")("ngClass",n.estado),l(2),d("ngIf",n.modal))},dependencies:[oe,S]})};function lr(i,t){i&1&&(r(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),c(4,"span",11)(5,"span",12)(6,"span",13)(7,"span",14),o(),r(8,"div",15),c(9,"span",11)(10,"span",12)(11,"span",13)(12,"span",14),o(),r(13,"div",16),c(14,"span",11)(15,"span",12)(16,"span",13)(17,"span",14),o(),r(18,"div",17),c(19,"span",11)(20,"span",12)(21,"span",13)(22,"span",14),o(),r(23,"div",18),c(24,"span",11)(25,"span",12)(26,"span",13)(27,"span",14),o(),c(28,"span",19),o()(),s(29," Upss, aun no tienes Donaciones "),r(30,"a",20),s(31," crea una"),o()())}function cr(i,t){if(i&1&&(r(0,"div",24),c(1,"app-card-donacion",25),o()),i&2){let e=t.$implicit;l(),d("donacion",e)}}function dr(i,t){if(i&1&&(r(0,"div",21)(1,"div",22),f(2,cr,2,1,"div",23),o()()),i&2){let e=v();l(2),d("ngForOf",e.donaciones)}}var Wt=class i{constructor(t,e){this.donacionesService=t;this.title=e}donaciones=[];idUsuario=0;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null?this.idUsuario=Number(t):console.error("No se encontr\xF3 el userId en sessionStorage"),this.obtenerDonacionesPorUsuario(this.idUsuario),this.title.setTitle("Econexion | Donaciones")}obtenerDonacionesPorUsuario(t){this.donacionesService.obtenerDonacionesPorUsuario(t).subscribe(e=>this.donaciones=e,e=>console.error("Error al obtener donaciones:",e))}static \u0275fac=function(e){return new(e||i)(u(Ie),u(U))};static \u0275cmp=h({type:i,selectors:[["app-donaciones"]],decls:9,vars:2,consts:[["id","scrollme",1,"h-[100%]","w-full","flex","flex-col","items-center","overflow-hidden","overflow-y-scroll"],[1,"h-[15%]","flex","justify-center","bg-transparent","p-5","w-full"],[1,"flex","justify-between","px-2","w-3/5","items-center","border","border-dashed","border-[#61A146]","bg-white","rounded-xl","text-[#61A146]"],["routerLink","donacionesform"],[1,"text-2xl","font-semibold","text-green-600"],["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","w-full flex items-center h-full flex-col",4,"ngIf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],["routerLink","donacionesform",1,"text-green-600","mx-2","border-b","border-green-600"],[1,"w-full","flex","items-center","h-full","flex-col"],["id","scrollme",1,"space-y-6","h-[85%]","w-full","overflow-hidden","overflow-y-scroll","flex","flex-col","items-center","p-5"],["class","bg-white  shadow-lg rounded-xl p-4 border w-3/5",4,"ngFor","ngForOf"],[1,"bg-white","shadow-lg","rounded-xl","p-4","border","w-3/5"],[3,"donacion"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),s(4,"Realizar Donaci\xF3n"),o(),r(5,"h1",4),s(6,"Mis donaciones"),o()()(),f(7,lr,32,0,"div",5)(8,dr,3,1,"div",6),o()),e&2&&(l(7),d("ngIf",n.donaciones.length<=0),l(),d("ngIf",n.donaciones.length>0))},dependencies:[L,S,k,Yt],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}.container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};function ur(i,t){if(i&1&&(r(0,"option",17),s(1),o()),i&2){let e=t.$implicit;d("value",e.id_eventos),l(),C(" ",e.nombre," ")}}function mr(i,t){i&1&&(r(0,"div",18),s(1," Selecciona un evento v\xE1lido. "),o())}function pr(i,t){i&1&&(r(0,"div",18),s(1," El evento seleccionado no es v\xE1lido. "),o())}function fr(i,t){i&1&&(r(0,"div",18),s(1," El tipo de donaci\xF3n es obligatorio. "),o())}function hr(i,t){i&1&&(r(0,"div",18),s(1," La cantidad es obligatoria. "),o())}function gr(i,t){i&1&&(r(0,"div",18),s(1," La cantidad debe ser mayor a 0. "),o())}function vr(i,t){i&1&&(r(0,"div",19),s(1,"Por favor corrige los errores antes de continuar. "),o())}var dt=class i{constructor(t,e,n,a,m){this.fb=t;this.eventosService=e;this.donacionesService=n;this.route=a;this.router=m;this.donacionForm=this.fb.group({eventoId:["",_.required],cantidad:["",[_.required,_.min(1)]],tipo_donacion:["",_.required]},{validators:this.validarEventoSeleccionado()})}donacionForm;eventosDisponibles=[];estatusSeleccionado;idDonacion=null;id_donacion_usuario=0;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null?this.id_donacion_usuario=Number(t):console.error("No se encontr\xF3 el userId en sessionStorage"),this.idDonacion=Number(this.route.snapshot.paramMap.get("id")),this.obtenerEventos(),console.log(this.idDonacion),this.idDonacion&&this.cargarDonacion(this.idDonacion)}obtenerEventos(){this.eventosService.obtenerEventos().subscribe(t=>{let e=new Date;this.eventosDisponibles=t.filter(n=>{let a=new Date(n.fecha_creacion),m=new Date(n.fecha_termino);return n.estatus_donacion==="si"&&n.estatus_donador!=="si"&&e<=m&&a<=m&&n.estatus!=="Terminado"})})}onEventoChange(t){let e=this.eventosDisponibles.find(n=>n.id_eventos===+t.target.value);this.estatusSeleccionado=e?e.estatus:void 0}cargarDonacion(t){this.donacionesService.obtenerDonacionesPorID(t).subscribe(e=>{this.donacionForm.patchValue({eventoId:e.id_evento,cantidad:e.cantidad,tipo_donacion:e.tipo_donacion}),this.estatusSeleccionado=e.estatus})}guardarDonacion(){if(this.donacionForm.valid){let t=this.donacionForm.value;if(this.idDonacion){let e={cantidad:t.cantidad,tipo_donacion:t.tipo_donacion,estatus:this.estatusSeleccionado,id_evento:t.eventoId};this.donacionesService.actualizarDonacion(this.idDonacion,e).subscribe(()=>{console.log("Donaci\xF3n actualizada con \xE9xito"),this.router.navigate(["red/Donaciones"])})}else{let e={id_donacion_usuario:this.id_donacion_usuario,id_evento:t.eventoId,cantidad:t.cantidad,tipo_donacion:t.tipo_donacion,estatus:this.estatusSeleccionado,fecha:new Date().toISOString(),id_donaciones:this.idDonacion};this.donacionesService.crearDonacion(e).subscribe(()=>{console.log("Donaci\xF3n registrada con \xE9xito"),this.router.navigate(["red/Donaciones"])})}}else console.error("Formulario inv\xE1lido",this.donacionForm.errors)}cancelar(){this.router.navigate(["red/Donaciones"])}validarEventoSeleccionado(){return t=>{let e=t.get("eventoId");e&&e.value&&(this.eventosDisponibles.find(a=>a.id_eventos===+e.value)?e.setErrors(null):e.setErrors({eventoInvalido:!0}))}}static \u0275fac=function(e){return new(e||i)(u(Z),u(se),u(Ie),u(re),u(P))};static \u0275cmp=h({type:i,selectors:[["app-form-donacion"]],decls:29,vars:11,consts:[[1,"w-full","h-full","flex","justify-center"],[1,"p-6","flex","flex-col","h-full","justify-center","w-1/2"],[1,"text-center","text-green-600","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","eventoId",1,"block","text-green-600"],["formControlName","eventoId",1,"w-full","border","border-green-300","rounded","p-2",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","tipo",1,"block","text-green-600"],["type","text","formControlName","tipo_donacion",1,"w-full","border","border-green-300","rounded","p-2"],["for","cantidad",1,"block","text-green-600"],["type","number","formControlName","cantidad",1,"w-full","border","border-green-300","rounded","p-2"],[1,"flex","justify-evenly","items-center"],["type","submit",1,"bg-green-500","text-white","rounded","p-2","w-40",3,"disabled"],["type","button",1,"border","border-green-500","text-green-500","rounded","p-2","w-40",3,"click"],["class","text-red-500 text-center mt-4 ",4,"ngIf"],[3,"value"],[1,"text-red-500","text-sm","mt-1"],[1,"text-red-500","text-center","mt-4"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),s(3),o(),r(4,"form",3),p("ngSubmit",function(){return n.guardarDonacion()}),r(5,"div",4)(6,"label",5),s(7,"Eventos disponibles"),o(),r(8,"select",6),p("change",function(m){return n.onEventoChange(m)}),f(9,ur,2,2,"option",7),o(),f(10,mr,2,0,"div",8)(11,pr,2,0,"div",8),o(),r(12,"div",4)(13,"label",9),s(14,"Tipo"),o(),c(15,"input",10),f(16,fr,2,0,"div",8),o(),r(17,"div",4)(18,"label",11),s(19,"Cantidad"),o(),c(20,"input",12),f(21,hr,2,0,"div",8)(22,gr,2,0,"div",8),o(),r(23,"div",13)(24,"button",14),s(25),o(),r(26,"button",15),p("click",function(){return n.cancelar()}),s(27," Cancelar "),o()(),f(28,vr,2,0,"div",16),o()()()),e&2){let a,m,g,M,R;l(3),C(" ",n.idDonacion?"Editar Donaci\xF3n":"Registrar Donaci\xF3n"," "),l(),d("formGroup",n.donacionForm),l(5),d("ngForOf",n.eventosDisponibles),l(),d("ngIf",((a=n.donacionForm.get("eventoId"))==null?null:a.touched)&&((a=n.donacionForm.get("eventoId"))==null?null:a.hasError("required"))),l(),d("ngIf",(m=n.donacionForm.get("eventoId"))==null?null:m.hasError("eventoInvalido")),l(5),d("ngIf",((g=n.donacionForm.get("tipo_donacion"))==null?null:g.touched)&&((g=n.donacionForm.get("tipo_donacion"))==null?null:g.hasError("required"))),l(5),d("ngIf",((M=n.donacionForm.get("cantidad"))==null?null:M.touched)&&((M=n.donacionForm.get("cantidad"))==null?null:M.hasError("required"))),l(),d("ngIf",(R=n.donacionForm.get("cantidad"))==null?null:R.hasError("min")),l(2),d("disabled",!n.donacionForm.valid),l(),C(" ",n.idDonacion?"Actualizar":"Crear"," "),l(3),d("ngIf",!n.donacionForm.valid&&n.donacionForm.touched)}},dependencies:[L,S,X,Tt,Rt,G,zi,$e,Y,W,J,K]})};function br(i,t){i&1&&(r(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),c(4,"span",7)(5,"span",8)(6,"span",9)(7,"span",10),o(),r(8,"div",11),c(9,"span",7)(10,"span",8)(11,"span",9)(12,"span",10),o(),r(13,"div",12),c(14,"span",7)(15,"span",8)(16,"span",9)(17,"span",10),o(),r(18,"div",13),c(19,"span",7)(20,"span",8)(21,"span",9)(22,"span",10),o(),r(23,"div",14),c(24,"span",7)(25,"span",8)(26,"span",9)(27,"span",10),o(),c(28,"span",15),o()(),s(29," Upss, aun no tienes eventos "),r(30,"a",16),s(31," crea una"),o()())}function _r(i,t){if(i&1){let e=A();r(0,"div",17)(1,"div",18)(2,"div")(3,"p",19),s(4,"Evento: "),r(5,"span",20),s(6),o()(),r(7,"p",19),s(8,"Ubicaci\xF3n: "),r(9,"span",20),s(10),o()(),r(11,"p",19),s(12,"Fecha de inicio: "),r(13,"span",20),s(14),je(15,"date"),o()(),r(16,"p",19),s(17,"Fecha de t\xE9rmino: "),r(18,"span",20),s(19),je(20,"date"),o()()(),r(21,"div",21)(22,"p",22),s(23,"Organizador: "),r(24,"span",23),s(25),o()()()(),r(26,"div",24)(27,"label",25),s(28,"Descripci\xF3n:"),o(),r(29,"textarea",26),s(30),o()(),r(31,"div",27)(32,"button",28),p("click",function(){let a=w(e).$implicit,m=v();return E(m.editarEvento(a.id_eventos))}),s(33," Editar "),o(),r(34,"button",29),p("click",function(){let a=w(e).$implicit,m=v();return E(m.eliminarEvento(a.id_eventos))}),s(35," Eliminar "),o()()()}if(i&2){let e=t.$implicit;l(6),j(e.nombre),l(4),j(e.ubicacion),l(4),j(Ne(15,10,e.fecha_creacion,"medium")),l(5),j(Ne(20,13,e.fecha_termino,"medium")),l(6),j(e.id_organizador),l(2),Oe("for","descripcion-",e.id_evento_usuario,""),l(2),Oe("id","descripcion-",e.id_evento_usuario,""),l(),C("        ",e.descripcion,`
      `)}}var Xt=class i{constructor(t,e){this.eventoService=t;this.router=e}eventosUsuario=[];idUsuario=0;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null?this.idUsuario=Number(t):console.error("No se encontr\xF3 el userId en sessionStorage"),this.eventoService.obtenerEventosPorUsuario(this.idUsuario).subscribe(e=>{this.eventoService.Eventos=e.reverse(),console.log(this.eventoService.Eventos)},e=>{console.error("Error al obtener los eventos:",e)})}editarEvento(t){this.router.navigate([`red/eventos/form-evento/${t}`])}eliminarEvento(t){confirm("\xBFEst\xE1s seguro de que deseas eliminar este evento?")&&this.eventoService.eliminarEvento(t).subscribe(()=>{console.log("eliminado bien chido");let e=[];this.eventoService.Eventos.map(n=>{n.id_eventos!=t&&e.push(n)}),this.eventoService.Eventos=e},e=>{console.error("Error al eliminar el evento:",e)})}static \u0275fac=function(e){return new(e||i)(u(se),u(P))};static \u0275cmp=h({type:i,selectors:[["app-eventos-usuario"]],decls:3,vars:2,consts:[["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["id","scrollme",1,"h-[100%]","w-full","flex","flex-col","items-center","overflow-hidden","overflow-y-scroll"],["class"," border-green-300 w-3/5 rounded-lg p-4 mb-4 shadow-md bg-white",4,"ngFor","ngForOf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],["routerLink","formeventos",1,"text-green-600","mx-2","border-b","border-green-600"],[1,"border-green-300","w-3/5","rounded-lg","p-4","mb-4","shadow-md","bg-white"],[1,"flex","justify-between"],[1,"text-green-600","font-medium"],[1,"text-gray-800"],[1,"text-right"],[1,"text-gray-500"],[1,"text-gray-800","font-medium"],[1,"mt-4"],[1,"text-green-600",3,"for"],["rows","2","readonly","",1,"w-full","border","border-green-300","rounded-md","p-2","mt-2",3,"id"],[1,"flex","justify-end","mt-4","space-x-2"],[1,"bg-green-600","text-white","py-2","w-32","px-4","rounded-md","hover:bg-green-700",3,"click"],[1,"border","border-green-600","text-green-600","w-32","py-2","px-4","rounded-md","hover:bg-green-100",3,"click"]],template:function(e,n){e&1&&(f(0,br,32,0,"div",0),r(1,"div",1),f(2,_r,36,16,"div",2),o()),e&2&&(d("ngIf",n.eventoService.Eventos.length<=0),l(2),d("ngForOf",n.eventoService.Eventos))},dependencies:[L,S,k,Ct],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}.container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var Zt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-eventos"]],decls:10,vars:0,consts:[[1,"h-[15%]","flex","justify-center","bg-transparent","p-5","w-full"],[1,"flex","justify-between","px-2","w-3/5","items-center","border","border-dashed","border-[#61A146]","bg-white","rounded-xl","text-[#61A146]"],["routerLink","formeventos"],["routerLink","/red/eventos",1,"text-2xl","font-semibold","text-green-600"],["routerLink","miseventos"],["id","scrollme",1,"h-[85%]","w-full","overflow-hidden","overflow-y-scroll"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"a",2),s(3,"Crear Evento"),o(),r(4,"a",3),s(5,"EVENTOS"),o(),r(6,"a",4),s(7," Mis Eventos"),o()()(),r(8,"div",5),c(9,"router-outlet"),o())},dependencies:[ae,k],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}"]})};function xr(i,t){i&1&&(r(0,"span",25),s(1," El nombre es obligatorio y debe tener al menos 3 caracteres. "),o())}function Cr(i,t){i&1&&(r(0,"span",25),s(1," La ubicaci\xF3n es obligatoria. "),o())}function yr(i,t){i&1&&(r(0,"span",25),s(1," La fecha de inicio no puede ser anterior a la fecha actual. "),o())}function wr(i,t){i&1&&(r(0,"span",25),s(1," La fecha final debe ser posterior a la fecha de inicio. "),o())}function Er(i,t){i&1&&(r(0,"span",25),s(1," La descripci\xF3n es obligatoria y debe tener al menos 10 caracteres. "),o())}var ut=class i{constructor(t,e,n,a){this.fb=t;this.eventoService=e;this.route=n;this.router=a;this.eventoForm=this.fb.group({nombreEvento:["",_.required],ubicacion:["",_.required],fechaInicio:["",_.required],horaInicio:["",_.required],fechaFinal:["",_.required],horaFinal:["",_.required],descripcion:["",_.required],estatus_donacion:["",_.required]},{validators:this.validarFechas})}eventoForm;idEvento=null;fechaActual;id_evento_usuario;id_organizador;Accion;ngOnInit(){this.id_evento_usuario=Number(sessionStorage.getItem("userId")),this.id_organizador=Number(sessionStorage.getItem("userId")),this.idEvento=Number(this.route.snapshot.paramMap.get("id")),this.idEvento?(this.cargarEvento(this.idEvento),this.Accion="Editar"):this.Accion="Crear"}cargarEvento(t){this.eventoService.obtenerEventoPorId(t).subscribe(e=>{this.eventoForm.patchValue({nombreEvento:e.nombre,ubicacion:e.ubicacion,fechaInicio:e.fecha_creacion.split("T")[0],horaInicio:e.fecha_creacion.split("T")[1].slice(0,5),fechaFinal:e.fecha_termino.split("T")[0],horaFinal:e.fecha_termino.split("T")[1].slice(0,5),descripcion:e.descripcion})},e=>{console.error("Error al cargar el evento:",e)})}validarFechas(t){let e=t.get("fechaInicio")?.value,n=t.get("horaInicio")?.value,a=t.get("fechaFinal")?.value,m=t.get("horaFinal")?.value;if(e&&n&&new Date(`${e}T${n}:00`)<new Date)return{fechaInicioPasada:!0};if(e&&n&&a&&m){let g=new Date(`${e}T${n}:00`),M=new Date(`${a}T${m}:00`);if(M<g)return{fechaFinalAntesInicio:!0};if((M.getTime()-g.getTime())/(1e3*60*60)<1)return{diferenciaInsuficiente:!0}}return null}crearEvento(){if(this.eventoForm.valid){let t=this.eventoForm.value,e=new Date(`${t.fechaInicio}T${t.horaInicio}:00`);e.setHours(e.getHours()-6);let n=new Date(`${t.fechaFinal}T${t.horaFinal}:00`);n.setHours(n.getHours()-6);let a=new Date,m=a<e?"Programado":a>=e&&a<=n?"Activo":"Terminado",g={id_donacion:null,descripcion:t.descripcion,fecha_creacion:e.toISOString(),fecha_termino:n.toISOString(),estatus:m,nombre:t.nombreEvento,ubicacion:t.ubicacion,estatus_donacion:t.estatus_donacion,estatus_donador:"no"};if(this.idEvento)this.eventoService.editarEvento(this.idEvento,g).subscribe(()=>{console.log("Evento editado con \xE9xito"),this.router.navigate(["red/eventos/miseventos"])},M=>{console.error("Error al editar el evento:",M)});else{let M={id_donacion:null,descripcion:t.descripcion,fecha_creacion:e.toISOString(),fecha_termino:n.toISOString(),estatus:m,nombre:t.nombreEvento,ubicacion:t.ubicacion,estatus_donacion:t.estatus_donacion,estatus_donador:"no",id_evento_usuario:this.id_evento_usuario,id_organizador:this.id_organizador,id_eventos:this.idEvento};this.eventoService.crearEvento(M).subscribe(R=>{console.log("Evento creado con \xE9xito:",R),this.router.navigate(["red/eventos"])},R=>{console.error("Error al crear el evento:",R)})}}}cancelar(){this.Accion==="Crear"?this.router.navigate(["red/eventos"]):this.router.navigate(["red/eventos/miseventos"])}static \u0275fac=function(e){return new(e||i)(u(Z),u(se),u(re),u(P))};static \u0275cmp=h({type:i,selectors:[["app-form-evento"]],decls:50,vars:11,consts:[["id","scrollme",1,"overflow-hidden","w-full","h-full","overflow-y-scroll","flex","flex-col","justify-between","my-2","bg-transparent","items-center","rounded-lg"],[1,"text-2xl","font-semibold","text-green-600","mb-2","text-center"],[1,"w-1/2","p-5","flex","flex-col","h-full","justify-evenly",3,"formGroup"],["for","nombreEvento",1,"block","text-green-600","mb-1"],["formControlName","nombreEvento","type","text","id","nombreEvento","placeholder","Ingrese el nombre del evento","required","","minlength","3",1,"w-full","border","border-green-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-500"],["class","text-red-500 text-sm",4,"ngIf"],["for","ubicacion",1,"block","text-green-600","mb-1"],["formControlName","ubicacion","type","text","id","ubicacion","placeholder","Ingrese la ubicaci\xF3n","required","",1,"w-full","border","border-green-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-500"],["for","fechaInicio",1,"block","text-green-600","mb-1"],["formControlName","fechaInicio","type","date","id","fechaInicio","required","",1,"w-full","border","border-green-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-500",3,"min"],["for","horaInicio",1,"block","text-green-600","mb-1"],["formControlName","horaInicio","type","time","id","horaInicio","required","",1,"w-full","border","border-green-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-500"],["for","fechaFinal",1,"block","text-green-600","mb-1"],["formControlName","fechaFinal","type","date","id","fechaFinal","required","",1,"w-full","border","border-green-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-500",3,"min"],["for","horaFinal",1,"block","text-green-600","mb-1"],["formControlName","horaFinal","type","time","id","horaFinal","required","",1,"w-full","border","border-green-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-500"],["for","descripcion",1,"block","text-green-600","mb-1"],["formControlName","descripcion","id","descripcion","placeholder","Ingrese una breve descripci\xF3n del evento","required","","minlength","10",1,"w-full","border","border-green-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-500"],["for","select",1,"block","text-green-600","mb-1"],["name","select","formControlName","estatus_donacion","required","",1,"w-full","border","border-green-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-500"],["value","no","selected",""],["value","si"],[1,"flex","justify-evenly","my-4"],["type","button",1,"bg-green-600","text-white","py-2","w-40","px-4","rounded-md","hover:bg-green-700",3,"click","disabled"],["type","button",1,"border","border-green-600","text-green-600","w-40","py-2","px-4","rounded-md","hover:bg-green-100",3,"click"],[1,"text-red-500","text-sm"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"h1",1),s(2),o(),r(3,"form",2)(4,"div")(5,"label",3),s(6,"Nombre del evento:"),o(),c(7,"input",4),f(8,xr,2,0,"span",5),o(),r(9,"div")(10,"label",6),s(11,"Ubicaci\xF3n:"),o(),c(12,"input",7),f(13,Cr,2,0,"span",5),o(),r(14,"div")(15,"label",8),s(16,"Fecha de inicio:"),o(),c(17,"input",9),f(18,yr,2,0,"span",5),o(),r(19,"div")(20,"label",10),s(21,"Hora de inicio:"),o(),c(22,"input",11),o(),r(23,"div")(24,"label",12),s(25,"Fecha final:"),o(),c(26,"input",13),f(27,wr,2,0,"span",5),o(),r(28,"div")(29,"label",14),s(30,"Hora final:"),o(),c(31,"input",15),o(),r(32,"div")(33,"label",16),s(34,"Descripci\xF3n:"),o(),c(35,"textarea",17),f(36,Er,2,0,"span",5),o(),r(37,"div")(38,"label",18),s(39,"\xBFRequieres de una donaci\xF3n para este evento?"),o(),r(40,"select",19)(41,"option",20),s(42,"No"),o(),r(43,"option",21),s(44,"S\xED"),o()()(),r(45,"div",22)(46,"button",23),p("click",function(){return n.crearEvento()}),s(47),o(),r(48,"button",24),p("click",function(){return n.cancelar()}),s(49," Cancelar "),o()()()()),e&2){let a,m,g,M;l(2),C("",n.Accion," evento"),l(),d("formGroup",n.eventoForm),l(5),d("ngIf",((a=n.eventoForm.get("nombreEvento"))==null?null:a.invalid)&&((a=n.eventoForm.get("nombreEvento"))==null?null:a.touched)),l(5),d("ngIf",((m=n.eventoForm.get("ubicacion"))==null?null:m.invalid)&&((m=n.eventoForm.get("ubicacion"))==null?null:m.touched)),l(4),d("min",n.fechaActual),l(),d("ngIf",n.eventoForm.hasError("fechaInicioPasada")),l(8),d("min",(g=n.eventoForm.get("fechaInicio"))==null?null:g.value),l(),d("ngIf",n.eventoForm.hasError("fechaFinalAntesInicio")),l(9),d("ngIf",((M=n.eventoForm.get("descripcion"))==null?null:M.invalid)&&((M=n.eventoForm.get("descripcion"))==null?null:M.touched)),l(10),d("disabled",n.eventoForm.invalid),l(),C(" ",n.Accion," ")}},dependencies:[S,X,Tt,Rt,G,$e,Y,W,$i,Ve,J,K],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}"]})};var Sr=(i,t)=>({"bg-green-600 text-white":i,"bg-gray-400 text-white":t}),Qt=class i{evento;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-card-evento"]],inputs:{evento:"evento"},decls:36,vars:21,consts:[[1,"border","border-green-300","w-full","rounded-lg","p-4","mb-4","shadow-md","bg-white"],[1,"flex","justify-between"],[1,"text-green-600","font-medium"],[1,"text-gray-800"],[1,"text-right"],[1,"text-gray-500"],[1,"text-gray-800","font-medium"],[1,"mt-4"],[1,"text-green-600",3,"for"],["rows","2","readonly","",1,"w-full","border","border-green-300","rounded-md","p-2","mt-2",3,"id"],[1,"flex","justify-end","mt-4"],[1,"mr-4","text-gray-600"],[1,"py-1","px-3","rounded-md",3,"ngClass"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),s(4,"Evento: "),r(5,"span",3),s(6),o()(),r(7,"p",2),s(8,"Ubicaci\xF3n: "),r(9,"span",3),s(10),o()(),r(11,"p",2),s(12,"Fecha de inicio: "),r(13,"span",3),s(14),je(15,"date"),o()(),r(16,"p",2),s(17,"Fecha de t\xE9rmino: "),r(18,"span",3),s(19),je(20,"date"),o()()(),r(21,"div",4)(22,"p",5),s(23,"Organizador: "),r(24,"span",6),s(25),o()()()(),r(26,"div",7)(27,"label",8),s(28,"Descripci\xF3n:"),o(),r(29,"textarea",9),s(30),o()(),r(31,"div",10)(32,"p",11),s(33,"Estatus"),o(),r(34,"button",12),s(35),o()()()),e&2&&(l(6),j(n.evento.nombre),l(4),j(n.evento.ubicacion),l(4),j(Ne(15,12,n.evento.fecha_creacion,"medium")),l(5),j(Ne(20,15,n.evento.fecha_termino,"medium")),l(6),j(n.evento.nombreOrganizador),l(2),Oe("for","descripcion-",n.evento.id,""),l(2),Oe("id","descripcion-",n.evento.id,""),l(),C("      ",n.evento.descripcion,`
    `),l(4),d("ngClass",ke(18,Sr,n.evento.estatus==="Disponible",n.evento.estatus==="Terminado")),l(),C(" ",n.evento.estatus," "))},dependencies:[oe,Ct]})};function Fr(i,t){i&1&&(r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),c(4,"span",6)(5,"span",7)(6,"span",8)(7,"span",9),o(),r(8,"div",10),c(9,"span",6)(10,"span",7)(11,"span",8)(12,"span",9),o(),r(13,"div",11),c(14,"span",6)(15,"span",7)(16,"span",8)(17,"span",9),o(),r(18,"div",12),c(19,"span",6)(20,"span",7)(21,"span",8)(22,"span",9),o(),r(23,"div",13),c(24,"span",6)(25,"span",7)(26,"span",8)(27,"span",9),o(),c(28,"span",14),o()(),s(29," Upss, aun no tienes eventos "),r(30,"a",15),s(31," crea una"),o()())}function Mr(i,t){if(i&1&&(r(0,"div",18),c(1,"app-card-evento",19),o()),i&2){let e=t.$implicit;l(),d("evento",e)}}function Dr(i,t){if(i&1&&(r(0,"div",16),f(1,Mr,2,1,"div",17),o()),i&2){let e=v();l(),d("ngForOf",e.eventos)}}var Jt=class i{constructor(t,e,n){this.title=t;this.eventosService=e;this.perfilservice=n}eventos=[];ngOnInit(){this.title.setTitle("Econexion | Eventos"),this.cargarEventos()}cargarEventos(){this.eventosService.obtenerEventos().subscribe(t=>{t.forEach(e=>{this.perfilservice.getPerfilById(e.id_organizador).subscribe(n=>{e.nombreOrganizador=n.nombre_usuario},n=>{console.error("Error al obtener el perfil del organizador:",n),e.nombreOrganizador="Desconocido"})}),this.eventos=t.reverse(),console.log("Eventos enriquecidos:",this.eventos)},t=>{console.error("Error al obtener los eventos:",t)})}static \u0275fac=function(e){return new(e||i)(u(U),u(se),u(z))};static \u0275cmp=h({type:i,selectors:[["app-lista-e"]],decls:2,vars:2,consts:[["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","w-full flex items-center h-full flex-col",4,"ngIf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],["routerLink","formeventos",1,"text-green-600","mx-2","border-b","border-green-600"],[1,"w-full","flex","items-center","h-full","flex-col"],["class","bg-white  shadow-lg rounded-xl p-4 border w-3/5",4,"ngFor","ngForOf"],[1,"bg-white","shadow-lg","rounded-xl","p-4","border","w-3/5"],[3,"evento"]],template:function(e,n){e&1&&f(0,Fr,32,0,"div",0)(1,Dr,2,1,"div",1),e&2&&(d("ngIf",n.eventos.length<=0),l(),d("ngIf",n.eventos.length>0))},dependencies:[L,S,k,Qt],styles:[".container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var he=class i{constructor(t){this.http=t}listaForos=[];obtenerForoPorIdChat(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.get(D.Url+"forochat/"+t,{headers:e})}obtenerForos(){let t=new y({Authorization:`Bearer ${x.token}`});return this.http.get(D.Url+"foro",{headers:t})}crearForo(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.post(`${D.Url}foro`,t,{headers:e})}actualizarForo(t,e){let n=new y({Authorization:`Bearer ${x.token}`});return this.http.put(`${D.Url}foro/${t}`,e,{headers:n})}eliminarForo(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.delete(`${D.Url}foro/${t}`,{headers:e})}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var ei=class i{constructor(t,e,n,a){this.fb=t;this.router=e;this.forosService=n;this._service_chat=a}foroForm;mi_id;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.mi_id=Number(t)),this.foroForm=this.fb.group({nombre_foro:["",[_.required,_.minLength(3)]],descripcion:["",_.required]})}onSubmit(){if(this.foroForm.valid){let t={grupal:!0,id_chat:0,ultimo_msj:""};this._service_chat.postChat(t).subscribe(e=>{console.log("chat creado con el id",e.id_chat);let n={descripcion:this.foroForm.get("descripcion")?.value,nombre_foro:this.foroForm.get("nombre_foro")?.value,id_chat:e.id_chat,id_usuario:this.mi_id};this.forosService.crearForo(n).subscribe(a=>{console.log("foro creado con los datos; ",a),this.router.navigate(["red/foros"])},a=>console.log(a))},e=>console.log(e))}}cancelar(){this.router.navigate(["red/foros"])}static \u0275fac=function(e){return new(e||i)(u(Z),u(P),u(he),u(Q))};static \u0275cmp=h({type:i,selectors:[["app-formforos"]],decls:17,vars:1,consts:[["id","scrollme",1,"overflow-hidden","w-full","h-full","overflow-y-scroll","flex","flex-col","justify-between","items-center","rounded-lg"],[1,"text-center","text-2xl","font-bold","text-green-600","mb-4"],[1,"w-1/2","p-5","flex","flex-col","h-full","justify-evenly",3,"ngSubmit","formGroup"],[1,"mb-4"],["for","nombre",1,"block","text-green-700","font-medium","mb-2"],["formControlName","nombre_foro","type","text","id","nombre","placeholder","Ingresa el nombre del foro",1,"w-full","px-3","py-2","border","border-green-500","rounded-lg","focus:outline-none","focus:ring","focus:ring-green-300"],["for","descripcion",1,"block","text-green-700","font-medium","mb-2"],["formControlName","descripcion","id","descripcion","rows","3","placeholder","Ingresa una descripci\xF3n",1,"w-full","px-3","py-2","border","border-green-500","rounded-lg","focus:outline-none","focus:ring","focus:ring-green-300"],[1,"flex","justify-evenly"],["type","submit",1,"px-4","py-2","bg-green-500","text-white","rounded-lg","w-40","hover:bg-green-600"],["type","button",1,"px-4","py-2","bg-white","text-green-500","border","w-40","border-green-500","rounded-lg","hover:bg-green-100",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),s(2,"Crear Foro"),o(),r(3,"form",2),p("ngSubmit",function(){return n.onSubmit()}),r(4,"div",3)(5,"label",4),s(6," Nombre del foro: "),o(),c(7,"input",5),o(),r(8,"div",3)(9,"label",6),s(10," Descripci\xF3n: "),o(),c(11,"textarea",7),o(),r(12,"div",8)(13,"button",9),s(14," Crear "),o(),r(15,"button",10),p("click",function(){return n.cancelar()}),s(16," Cancelar "),o()()()()),e&2&&(l(3),d("formGroup",n.foroForm))},dependencies:[X,G,Y,W,J,K],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}"]})};var ti=class i{constructor(t){this._service_foros=t}foros=[];ngOnInit(){}static \u0275fac=function(e){return new(e||i)(u(he))};static \u0275cmp=h({type:i,selectors:[["app-foros"]],decls:11,vars:0,consts:[[1,"h-[15%]","flex","justify-center","bg-transparent","p-5","w-full"],[1,"flex","justify-between","px-2","w-3/5","items-center","border","border-dashed","border-[#61A146]","bg-white","rounded-xl","text-[#61A146]"],["routerLink","formforos"],["routerLink","/red/foros",1,"text-2xl"],["routerLink","misforos"],["id","scrollme",1,"space-y-6","h-[85%]","overflow-hidden","overflow-y-scroll","flex","flex-col","items-center"],[1,"w-full","h-full"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"a",2),s(3,"Crear Foro"),o(),r(4,"a",3),s(5,"Foros"),o(),r(6,"a",4),s(7," Mis Foros"),o()()(),r(8,"div",5)(9,"div",6),c(10,"router-outlet"),o()())},dependencies:[ae,k],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}"]})};var We=class i{constructor(t,e,n,a,m){this.routeA=t;this._service_perfil=e;this.route=n;this._service_chat=a;this._service_foros=m}Foro;miForo;foroAcrua;user={apellidos_usuario:"",correo_usuario:"",contrase\u00F1a_usuario:"",id_usuario:0,nombre_usuario:"",telefono_usuario:0,estatus:"",imagen_usuario:"",tipo_usuario:"",descripcion:""};boton="Unirme";mi_id;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.mi_id=Number(t)),this.routeA.snapshot.url[0].path=="misforos"?(this.boton="Abrir",console.log(this.Foro.id_chat),this._service_foros.obtenerForoPorIdChat(this.Foro.id_chat).subscribe(n=>{console.log(n),this.Foro=n},n=>{console.log(n)})):this._service_perfil.getPerfilById(this.Foro.id_usuario).subscribe(n=>{console.log(n),this.user=n},n=>console.log(n))}alChat(){let t={usuario_idusuario:this.mi_id,chat_idchat:this.Foro.id_chat};this._service_chat.postUsHasChat(t).subscribe(e=>{console.log("a\xF1adido al foro: ",e)},e=>{console.log(e)}),this.route.navigate(["/red/chats/with/"+this.Foro.id_chat])}static \u0275fac=function(e){return new(e||i)(u(re),u(z),u(P),u(Q),u(he))};static \u0275cmp=h({type:i,selectors:[["app-card-foro"]],inputs:{Foro:"Foro",miForo:"miForo"},decls:10,vars:4,consts:[[1,"w-full","border","border-green-300","rounded-lg","p-4","mb-4","shadow-md"],[1,"text-lg","font-bold","text-green-600","mb-2"],[1,"text-sm","mb-4"],[1,"flex","justify-between","items-center"],[1,"text-sm","text-gray-600"],[1,"border","border-green-600","text-green-600","py-1","px-3","rounded-md","hover:bg-green-100",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h2",1),s(2),o(),r(3,"p",2),s(4),o(),r(5,"div",3)(6,"span",4),s(7),o(),r(8,"button",5),p("click",function(){return n.alChat()}),s(9),o()()()),e&2&&(l(2),j(n.Foro.nombre_foro),l(2),C(" Descripci\xF3n: ",n.Foro.descripcion," "),l(3),C("Organizador: ",n.user.nombre_usuario,""),l(2),C(" ",n.boton," "))}})};function Ar(i,t){i&1&&(r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),c(4,"span",6)(5,"span",7)(6,"span",8)(7,"span",9),o(),r(8,"div",10),c(9,"span",6)(10,"span",7)(11,"span",8)(12,"span",9),o(),r(13,"div",11),c(14,"span",6)(15,"span",7)(16,"span",8)(17,"span",9),o(),r(18,"div",12),c(19,"span",6)(20,"span",7)(21,"span",8)(22,"span",9),o(),r(23,"div",13),c(24,"span",6)(25,"span",7)(26,"span",8)(27,"span",9),o(),c(28,"span",14),o()(),s(29," Upss, aun no hay foros, "),r(30,"a",15),s(31," crea uno e invita a tus amigos"),o()())}function Vr(i,t){if(i&1&&(r(0,"div",18),c(1,"app-card-foro",19),o()),i&2){let e=t.$implicit;l(),d("Foro",e)}}function Pr(i,t){if(i&1&&(r(0,"div",16),f(1,Vr,2,1,"div",17),o()),i&2){let e=v();l(),d("ngForOf",e._service_foro.listaForos)}}var ii=class i{constructor(t,e){this._service_foro=t;this.title=e}ngOnInit(){this._service_foro.obtenerForos().subscribe(t=>{this._service_foro.listaForos=t.reverse(),console.log(t)}),this.title.setTitle("Econexion | Foros")}static \u0275fac=function(e){return new(e||i)(u(he),u(U))};static \u0275cmp=h({type:i,selectors:[["app-lista-foros"]],decls:2,vars:2,consts:[["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","w-full flex items-center h-full flex-col",4,"ngIf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],["routerLink","formforos",1,"text-green-600","mx-2","border-b","border-green-600"],[1,"w-full","flex","items-center","h-full","flex-col"],["class","bg-white  shadow-lg rounded-xl p-4 border w-3/5",4,"ngFor","ngForOf"],[1,"bg-white","shadow-lg","rounded-xl","p-4","border","w-3/5"],[3,"Foro"]],template:function(e,n){e&1&&f(0,Ar,32,0,"div",0)(1,Pr,2,1,"div",1),e&2&&(d("ngIf",n._service_foro.listaForos.length<=0),l(),d("ngIf",n._service_foro.listaForos.length>0))},dependencies:[L,S,k,We],styles:[".container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};function Or(i,t){i&1&&(r(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),c(4,"span",7)(5,"span",8)(6,"span",9)(7,"span",10),o(),r(8,"div",11),c(9,"span",7)(10,"span",8)(11,"span",9)(12,"span",10),o(),r(13,"div",12),c(14,"span",7)(15,"span",8)(16,"span",9)(17,"span",10),o(),r(18,"div",13),c(19,"span",7)(20,"span",8)(21,"span",9)(22,"span",10),o(),r(23,"div",14),c(24,"span",7)(25,"span",8)(26,"span",9)(27,"span",10),o(),c(28,"span",15),o()(),s(29," \xBFaun no estas en ningun foro?, ve al apartado de foros y "),r(30,"a",16),s(31," unete. "),o()())}function kr(i,t){if(i&1&&(r(0,"div",17),c(1,"app-card-foro",18),o()),i&2){let e=t.$implicit;l(),d("Foro",e)}}var ni=class i{constructor(t,e){this._service_chat=t;this.route=e}mi_id;misChats=[];misForos=[];ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.mi_id=Number(t)),this.buscarMisForos()}buscarMisForos(){this._service_chat.getUsHasChatById(this.mi_id).subscribe(t=>{this.misChats=t,console.log("chats:",t),this.misChats.map(e=>{this._service_chat.getMyChatsById(e.chat_idchat).subscribe(n=>{console.log(n),n.grupal==!0&&(this.misForos.push(n),console.log("a\xF1adido a foros"))},n=>console.log(n))}),this.misForos.reverse()})}static \u0275fac=function(e){return new(e||i)(u(Q),u(re))};static \u0275cmp=h({type:i,selectors:[["app-mis-foros"]],decls:3,vars:2,consts:[["id","scrollme",1,"h-full","space-y-3","overflow-hidden","overflow-y-scroll","flex","flex-col","items-center","px-5"],["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","shadow-md  hover:bg-green-600/10 border-green-600 flex-col flex justify-between rounded p-2  border w-3/5",4,"ngFor","ngForOf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],["routerLink","/red/foros",1,"text-green-600","mx-2","border-b","border-green-600"],[1,"shadow-md","hover:bg-green-600/10","border-green-600","flex-col","flex","justify-between","rounded","p-2","border","w-3/5"],[3,"Foro"]],template:function(e,n){e&1&&(r(0,"div",0),f(1,Or,32,0,"div",1)(2,kr,2,1,"div",2),o()),e&2&&(l(),d("ngIf",n.misForos.length<=0),l(),d("ngForOf",n.misForos))},dependencies:[L,S,k,We],styles:[".container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var oi=class i{constructor(t,e,n,a){this._service_chat=t;this._perfil=e;this.router=n;this._perfil_service=a}Chat={chat_idchat:0,usuario_idusuario:0};chatActual={id_chat:0,ultimo_msj:""};mi_id;user;userData={apellidos_usuario:"",correo_usuario:"",contrase\u00F1a_usuario:"",id_usuario:0,nombre_usuario:"",telefono_usuario:0,estatus:"",imagen_usuario:"",tipo_usuario:"",descripcion:""};ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.mi_id=Number(t)),this._service_chat.getUsHasChatByChat(this.Chat.chat_idchat).subscribe(e=>{e.map(n=>{n.usuario_idusuario!=this.mi_id&&(this.user=n,this._perfil.getPerfilById(n.usuario_idusuario).subscribe(a=>{this.userData=a}))})}),this._service_chat.getMyChatsById(this.Chat.chat_idchat).subscribe(e=>{this.chatActual=e},e=>{console.log(e)})}irAlChat(){this._perfil_service.chatWith_user=this.userData,this.router.navigate(["/red/chats/with/"+this.Chat.chat_idchat])}static \u0275fac=function(e){return new(e||i)(u(Q),u(z),u(P),u(z))};static \u0275cmp=h({type:i,selectors:[["app-chat-whit-user"]],inputs:{Chat:"Chat"},decls:13,vars:3,consts:[[1,"w-full","h-full","justify-center","items-center","flex","cursor-pointer","select-none",3,"click"],["alt","",1,"w-10","h-10","rounded-full",3,"src"],[1,"w-full"],[1,"flex","w-full","justify-between"],[1,"text-green-600","text-xl","mx-5"],[1,"text-sm"],[1,"text-black/70","w-[calc(85%)]","text-sm","mx-10"],[1,"bg-green-500","w-5","text-sm","text-white","h-5","flex","justify-center","items-center","rounded-full"]],template:function(e,n){e&1&&(r(0,"div",0),p("click",function(){return n.irAlChat()}),c(1,"img",1),r(2,"div",2)(3,"div",3)(4,"span",4),s(5),o(),r(6,"span",5),s(7," ultimo mensaje fecha "),o()(),r(8,"div",3)(9,"span",6),s(10),o(),r(11,"span",7),s(12," 1 "),o()()()()),e&2&&(l(),d("src",n.userData.imagen_usuario,ue),l(4),C(" ",n.userData.nombre_usuario," "),l(5),C(" ",n.chatActual.ultimo_msj," "))}})};function Nr(i,t){i&1&&(r(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),c(4,"span",7)(5,"span",8)(6,"span",9)(7,"span",10),o(),r(8,"div",11),c(9,"span",7)(10,"span",8)(11,"span",9)(12,"span",10),o(),r(13,"div",12),c(14,"span",7)(15,"span",8)(16,"span",9)(17,"span",10),o(),r(18,"div",13),c(19,"span",7)(20,"span",8)(21,"span",9)(22,"span",10),o(),r(23,"div",14),c(24,"span",7)(25,"span",8)(26,"span",9)(27,"span",10),o(),c(28,"span",15),o()(),s(29," Upss, aun no tienes Chats, ve a tu lista de contactos para "),r(30,"a",16),s(31," iniciar uno"),o()())}function Tr(i,t){if(i&1&&(r(0,"div",17),c(1,"app-chat-whit-user",18),o()),i&2){let e=t.$implicit;l(),d("Chat",e)}}var ri=class i{constructor(t,e,n,a){this.title=t;this._user_service=e;this.fb=n;this._service_chat=a}mi_id;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.mi_id=Number(t)),this._service_chat.getUsHasChatById(this.mi_id).subscribe(e=>{e.map(n=>{this._service_chat.getMyChatsById(n.chat_idchat).subscribe(a=>{console.log(a),a.grupal==!1&&(this._service_chat.user_has_chat.push(n),console.log("A\xF1dido a chats"))},a=>console.log(a))})},e=>console.log(e))}ngOnDestroy(){this._service_chat.user_has_chat=[]}static \u0275fac=function(e){return new(e||i)(u(U),u(fe),u(Z),u(Q))};static \u0275cmp=h({type:i,selectors:[["app-list-chats"]],decls:3,vars:2,consts:[["id","scrollme",1,"h-full","space-y-3","overflow-hidden","overflow-y-scroll","flex","flex-col","items-center","px-5"],["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","shadow-md  hover:bg-green-600/10 border-green-600 flex-col flex justify-between rounded p-2  border w-3/5",4,"ngFor","ngForOf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],["routerLink","/red/chats/contactos",1,"text-green-600","mx-2","border-b","border-green-600"],[1,"shadow-md","hover:bg-green-600/10","border-green-600","flex-col","flex","justify-between","rounded","p-2","border","w-3/5"],[3,"Chat"]],template:function(e,n){e&1&&(r(0,"div",0),f(1,Nr,32,0,"div",1)(2,Tr,2,1,"div",2),o()),e&2&&(l(),d("ngIf",n._service_chat.user_has_chat.length<=0),l(),d("ngForOf",n._service_chat.user_has_chat))},dependencies:[L,S,k,oi],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}.container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var ai=class i{constructor(t){this.http=t}api_url=D.Url+"mensajes/";getMensajes(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.get(`${this.api_url}mensajeschat_byID/`+t,{headers:e})}postMensaje(t){let e=new y({Authorization:`Bearer ${x.token}`});return this.http.post(this.api_url,t,{headers:e})}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var Br=["scrollMe"];function Lr(i,t){i&1&&(r(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),c(4,"span",14)(5,"span",15)(6,"span",16)(7,"span",17),o(),r(8,"div",18),c(9,"span",14)(10,"span",15)(11,"span",16)(12,"span",17),o(),r(13,"div",19),c(14,"span",14)(15,"span",15)(16,"span",16)(17,"span",17),o(),r(18,"div",20),c(19,"span",14)(20,"span",15)(21,"span",16)(22,"span",17),o(),r(23,"div",21),c(24,"span",14)(25,"span",15)(26,"span",16)(27,"span",17),o(),c(28,"span",22),o()(),s(29," \xBFPor que no iniciar la conversacion? "),o())}function Ur(i,t){if(i&1&&(r(0,"h2",26)(1,"span",27),s(2),r(3,"span",28),s(4),o()()()),i&2){let e=v().$implicit;l(2),C(" ",e.mensaje," "),l(2),j(e.fecha)}}function Gr(i,t){if(i&1&&(r(0,"h2",29)(1,"span",30),s(2),r(3,"span",28),s(4),o()()()),i&2){let e=v().$implicit;l(2),C(" ",e.mensaje," "),l(2),j(e.fecha)}}function Hr(i,t){if(i&1&&(r(0,"div",23),f(1,Ur,5,2,"h2",24)(2,Gr,5,2,"h2",25),o()),i&2){let e=t.$implicit,n=v();l(),d("ngIf",e.id_emisor==n.mi_id),l(),d("ngIf",e.id_emisor!=n.mi_id)}}var si=class i{constructor(t,e,n,a){this._chat_service=t;this.route=e;this._mensaje_serviuce=n;this._perfil=a}myScrollContainer;mi_id;Mensajes=[];mensaje="";id;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.mi_id=Number(t)),this.id=this.route.snapshot.paramMap.get("id_chat"),this._mensaje_serviuce.getMensajes(this.id).subscribe(e=>{this.Mensajes=e,this.scrollToBottom()})}ngAfterViewChecked(){this.scrollToBottom()}enviarMensaje(){let t={id_chat:this.id,estatus:"false",id_emisor:this.mi_id,mensaje:this.mensaje,fecha:new Date().toISOString(),id_mensaje:0};this._mensaje_serviuce.postMensaje(t).subscribe(n=>{console.log(n),this.scrollToBottom(),this.Mensajes.push(n)},n=>{console.log(n)});let e={ultimo_msj:this.mensaje,grupal:!1,id_chat:this.id};this._chat_service.putChatById(this.id,e).subscribe(n=>{console.log("chat actualizado",n)},n=>console.log(n)),this.mensaje=""}scrollToBottom(){try{this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}catch{}}ngOnDestroy(){this._perfil.chatWith_user={apellidos_usuario:"",contrase\u00F1a_usuario:"",correo_usuario:"",descripcion:"",estatus:"",id_usuario:0,imagen_usuario:"",nombre_usuario:"",telefono_usuario:0,tipo_usuario:""}}static \u0275fac=function(e){return new(e||i)(u(Q),u(re),u(ai),u(z))};static \u0275cmp=h({type:i,selectors:[["app-mensajes"]],viewQuery:function(e,n){if(e&1&&vt(Br,5),e&2){let a;bt(a=_t())&&(n.myScrollContainer=a.first)}},decls:11,vars:3,consts:[["scrollMe",""],[1,"w-full","h-full","flex-col","p-5","flex","justify-center","items-center"],[1,"w-7/12","h-full"],["id","scrollme",1,"p-3","overflow-hidden","overflow-y-scroll","h-full","lg"],["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","w-full flex justify-between",4,"ngFor","ngForOf"],[1,"w-full","flex","justify-center",3,"ngSubmit"],[1,"w-[55%]"],["placeholder","Redacta un mensaje","type","text","name","mensaje",1,"border","border-black","w-full","p-2","md:p-3","rounded-lg",3,"ngModelChange","ngModel"],["type","submit",1,"bg-green-600","rounded-lg","p-2"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],[1,"w-full","flex","justify-between"],["class","w-full  flex justify-end text-green-600 p-1 ",4,"ngIf"],["class","w-full flex text-blue-600 p-1",4,"ngIf"],[1,"w-full","flex","justify-end","text-green-600","p-1"],[1,"bg-green-100","px-3"],[1,"text-xs","block","mt-1"],[1,"w-full","flex","text-blue-600","p-1"],[1,"bg-blue-100","px-3","py-1"]],template:function(e,n){if(e&1){let a=A();r(0,"div",1)(1,"div",2)(2,"div",3,0),f(4,Lr,30,0,"div",4)(5,Hr,3,2,"div",5),o()(),r(6,"form",6),p("ngSubmit",function(){return w(a),E(n.enviarMensaje())}),r(7,"label",7)(8,"input",8),nn("ngModelChange",function(g){return w(a),tn(n.mensaje,g)||(n.mensaje=g),E(g)}),o()(),r(9,"button",9),s(10,"Enviar"),o()()()}e&2&&(l(4),d("ngIf",n.Mensajes.length<=0),l(),d("ngForOf",n.Mensajes),l(3),en("ngModel",n.mensaje))},dependencies:[L,S,X,G,Y,W,Hi,Gi],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}.container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var le=class i{constructor(t){this._http=t}getHeaders(){return new y({Authorization:`Bearer ${x.token}`})}publicaciones=[];getPublicaciones(){return this._http.get(D.Url+"publicaciones",{headers:this.getHeaders()})}postPublicaciones(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.post(D.Url+"publicaciones",t,{headers:e})}deletePublicaciones(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.delete(D.Url+"publicaciones/"+t,{headers:e})}updatePublicaciones(t,e){let n=new y({Authorization:`Bearer ${x.token}`});return this._http.put(D.Url+"publicaciones/"+t,e,{headers:n})}getCurrentDate(){let t=new Date().toISOString();return console.log(t),String(t)}getMisPublicaciones(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.get(D.Url+"publicaciones/"+t,{headers:e})}getPublicacionById(t){let e=new y({Authorization:`Bearer ${x.token}`});return this._http.get(D.Url+"publicaciones/publicacionById/"+t,{headers:e})}static \u0275fac=function(e){return new(e||i)($(q))};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};function zr(i,t){if(i&1){let e=A();r(0,"span",14),p("click",function(){w(e);let a=v();return E(a.desplegarOpciones())}),s(1," + "),o()}}function $r(i,t){if(i&1){let e=A();r(0,"span",15),p("click",function(){w(e);let a=v();return E(a.desplegarOpciones())}),s(1," x "),o()}}function qr(i,t){if(i&1&&(r(0,"div",16),c(1,"img",17),o()),i&2){let e=v();l(),d("src",e.publicacion.imagen,ue)}}function Yr(i,t){if(i&1){let e=A();r(0,"div",18)(1,"button",19),p("click",function(){w(e);let a=v();return E(a.handleClickEditar())}),s(2,"Editar"),o(),r(3,"button",20),p("click",function(){w(e);let a=v();return E(a.eliminarPublicacion())}),s(4,"Eliminar"),o()()}}function Wr(i,t){if(i&1){let e=A();r(0,"div",21)(1,"div",22)(2,"h1",23),s(3,"Registro incompleto"),o(),c(4,"img",24),r(5,"span",25),s(6,"\xA1Debe completar todos los campos!"),o(),r(7,"div",26)(8,"button",27),p("click",function(){w(e);let a=v();return E(a.HandleClickAlertClose())}),s(9,"Aceptar"),o(),r(10,"button",27),p("click",function(){w(e);let a=v();return E(a.cancelarEliminarPublicacion())}),s(11,"Cancelar"),o()()()()}}var li=class i{constructor(t,e){this._servicio_publicaciones=t;this._router=e}menu=!1;editando=!1;error=!1;publicacion={id_publicaciones_usuario:0,imagen:"",descripcion:"",fecha:"",id_publicaciones:0,nombre_usuario:"",titulo:""};desplegarOpciones(){this.menu=!this.menu}eliminarPublicacion(){this.error=!0}cancelarEliminarPublicacion(){this.error=!1}HandleClickAlertClose(){this._servicio_publicaciones.deletePublicaciones(this.publicacion.id_publicaciones).subscribe(e=>{console.log("publicaion eliminada correctamente"),this.error=!1},e=>{console.error("Error al agregar mensaje:",e),alert("no se pudo eliminar")});let t=[];this._servicio_publicaciones.publicaciones.map(e=>{e.id_publicaciones!=this.publicacion.id_publicaciones&&t.push(e)}),this._servicio_publicaciones.publicaciones=t}handleClickEditar(){this._router.navigate(["red/publicaciones/formpublicacion",this.publicacion.id_publicaciones])}static \u0275fac=function(e){return new(e||i)(u(le),u(P))};static \u0275cmp=h({type:i,selectors:[["app-card-mis-publicaciones"]],inputs:{publicacion:"publicacion"},decls:18,vars:9,consts:[[1,"flex","pb-2","justify-between"],[1,""],[1,"flex","w-1/2","items-center","h-full","justify-end"],[1,"text-sm","text-gray-500"],["class","cursor-pointer flex justify-center items-center w-7 rounded-lg ml-2 h-7 bg-gray-200",3,"click",4,"ngIf"],["class","cursor-pointer  flex justify-center items-center w-7 rounded-lg ml-2 h-7 bg-red-600 text-white",3,"click",4,"ngIf"],[1,"border","object-cover","border-dashed","border-green-800","flex","justify-between","rounded-xl"],[1,"flex","w-2/5","justify-between","items-center","p-5","flex-col"],[1,"w-full","h-1/5","font-semibold","text-green-800"],[1,"h-4/5","flex","w-full","items-center","text-justify"],[1,"text-gray-700","w-full","text-justify"],["class","w-3/5 duration-1000 flex-col flex items-center  object-cover h-[12rem]",4,"ngIf"],["class","p-5 w-3/5 h-[12rem] rounded-r-xl items-center text-white  duration-1000   flex flex-col justify-evenly","ngClass","",4,"ngIf"],["class","w-full flex justify-center items-center h-screen absolute top-0 left-0 bg-black/60",4,"ngIf"],[1,"cursor-pointer","flex","justify-center","items-center","w-7","rounded-lg","ml-2","h-7","bg-gray-200",3,"click"],[1,"cursor-pointer","flex","justify-center","items-center","w-7","rounded-lg","ml-2","h-7","bg-red-600","text-white",3,"click"],[1,"w-3/5","duration-1000","flex-col","flex","items-center","object-cover","h-[12rem]"],["alt","Imagen de publicaci\xF3n",1,"rounded-r-xl","w-full","h-full","object-cover",3,"src"],["ngClass","",1,"p-5","w-3/5","h-[12rem]","rounded-r-xl","items-center","text-white","duration-1000","flex","flex-col","justify-evenly"],[1,"bg-green-600","text-white","py-2","w-32","px-4","rounded-md","hover:bg-green-700",3,"click"],[1,"border","border-green-600","text-green-600","w-32","py-2","px-4","rounded-md","hover:bg-green-100",3,"click"],[1,"w-full","flex","justify-center","items-center","h-screen","absolute","top-0","left-0","bg-black/60"],[1,"w-[300px]","h-[350px]","flex","justify-between","flex-col","items-center","rounded-lg","p-2","bg-green-50"],[1,"text-white","text-center","w-full","p-2","bg-green-600","rounded-lg"],["src","alertaError.png","alt","alerta no funcia"],[1,"text-center","text-green-600"],[1,"flex","justify-evenly"],[1,"border","m-2","border-green-600","text-green-600","w-1/2","py-2","px-4","rounded-md","hover:bg-green-100",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h1",1),s(2),o(),r(3,"div",2)(4,"span",3),s(5),o(),f(6,zr,2,0,"span",4)(7,$r,2,0,"span",5),o()(),r(8,"div",6)(9,"div",7)(10,"span",8),s(11),o(),r(12,"div",9)(13,"p",10),s(14),o()()(),f(15,qr,2,1,"div",11)(16,Yr,5,0,"div",12),o(),f(17,Wr,12,0,"div",13)),e&2&&(l(2),j(n.publicacion.titulo),l(3),j(n.publicacion.fecha),l(),d("ngIf",!n.menu),l(),d("ngIf",n.menu),l(4),C("Publicado por: ",n.publicacion.nombre_usuario,""),l(3),j(n.publicacion.descripcion),l(),d("ngIf",!n.menu),l(),d("ngIf",n.menu),l(),d("ngIf",n.error))},dependencies:[oe,S]})};function Zr(i,t){i&1&&(r(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),c(4,"span",7)(5,"span",8)(6,"span",9)(7,"span",10),o(),r(8,"div",11),c(9,"span",7)(10,"span",8)(11,"span",9)(12,"span",10),o(),r(13,"div",12),c(14,"span",7)(15,"span",8)(16,"span",9)(17,"span",10),o(),r(18,"div",13),c(19,"span",7)(20,"span",8)(21,"span",9)(22,"span",10),o(),r(23,"div",14),c(24,"span",7)(25,"span",8)(26,"span",9)(27,"span",10),o(),c(28,"span",15),o()(),s(29," Upss, aun no tienes publicaciones "),r(30,"a",16),s(31," crea una"),o()())}function Qr(i,t){if(i&1&&(r(0,"div",17),c(1,"app-card-mis-publicaciones",18),o()),i&2){let e=t.$implicit;l(),d("publicacion",e)}}var Xe=class i{constructor(t,e){this._servicio_publicaciones=t;this.title=e}id_usuario;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null?this.id_usuario=Number(t):this.id_usuario=0,this._servicio_publicaciones.getMisPublicaciones(this.id_usuario).subscribe(e=>{this._servicio_publicaciones.publicaciones=e.reverse(),console.log("publicaciones",e)})}static \u0275fac=function(e){return new(e||i)(u(le),u(U))};static \u0275cmp=h({type:i,selectors:[["app-mis-publicaciones"]],decls:3,vars:2,consts:[["id","scrollme",1,"h-full","overflow-hidden","overflow-y-scroll","flex","flex-col","items-center","px-5"],["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","bg-white  shadow-lg  rounded-xl p-5 border w-3/5",4,"ngFor","ngForOf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],["routerLink","/red/publicaciones/formpublicacion",1,"text-green-600","mx-2","border-b","border-green-600"],[1,"bg-white","shadow-lg","rounded-xl","p-5","border","w-3/5"],[3,"publicacion"]],template:function(e,n){e&1&&(r(0,"div",0),f(1,Zr,32,0,"div",1)(2,Qr,2,1,"div",2),o()),e&2&&(l(),d("ngIf",n._servicio_publicaciones.publicaciones.length<=0),l(),d("ngForOf",n._servicio_publicaciones.publicaciones))},dependencies:[L,S,k,li],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}.container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var ci=class i{constructor(t,e,n){this.title=t;this._perfil_service=e;this.router=n}user={apellidos_usuario:"",correo_usuario:"",nombre_usuario:"",contrase\u00F1a_usuario:"",id_usuario:0,estatus:"",imagen_usuario:"",telefono_usuario:0,tipo_usuario:"",descripcion:""};ngOnInit(){this.title.setTitle("Econexion | Mi perfil"),this._perfil_service.getPerfil().subscribe({next:t=>{this.user=t,console.log("Perfil obtenido:",this.user)},error:t=>{console.error("Error al obtener el perfil:",t)}})}ruta(){this.router.navigate(["red/publicaciones/misPublicaciones"])}actualizarperfil(){this.router.navigate(["red/actualizar_perfil"])}static \u0275fac=function(e){return new(e||i)(u(U),u(z),u(P))};static \u0275cmp=h({type:i,selectors:[["app-mi-perfil"]],decls:16,vars:4,consts:[[1,"w-full","h-full","flex","justify-around","p-2"],[1,"w-1/5","h-full","bg-green-100","p-4"],[1,"w-full","bg-[#61A146]","h-10","text-center","mb-3","text-white","rounded-lg","p-2"],[1,"border-black","border","flex","w-full","h-2/12","object-cover","items-center","justify-center","rounded-lg"],[1,"w-full","h-full","object-contain",3,"src"],[1,"w-full","h-[15%]","flex","justify-center","items-center","rounded-lg","border","border-dashed","border-green-600","mt-2"],[1,"w-full","border-green-600","border","rounded-lg","my-5","p-2",3,"click"],[1,"w-9/12","h-full","bg-green-100","p-4"],[1,"w-full","border","h-[40%]"],[1,"w-full","h-full","flex","flex-col","items-center"],[1,"text-2xl","font-semibold","text-green-600",3,"click"],[1,"top-10"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),s(3),o(),r(4,"div",3),c(5,"img",4),o(),r(6,"div",5),s(7),o(),r(8,"button",6),p("click",function(){return n.actualizarperfil()}),s(9," editar foto de perfil "),o()(),r(10,"div",7)(11,"div",8)(12,"div",9)(13,"button",10),p("click",function(){return n.ruta()}),s(14," Mis publicaciones "),o(),c(15,"app-mis-publicaciones",11),o()()()()),e&2&&(l(3),xt("",n.user.nombre_usuario," ",n.user.apellidos_usuario,""),l(2),d("src",n.user.imagen_usuario,ue),l(2),C(" ",n.user.descripcion," "))},dependencies:[Xe]})};var Kr=["fileInput"];function ea(i,t){if(i&1){let e=A();r(0,"div",19)(1,"div",20)(2,"h1",21),s(3,"Registro incompleto"),o(),c(4,"img",22),r(5,"span",23),s(6,"\xA1Debe completar todos los campos!"),o(),r(7,"button",24),p("click",function(){w(e);let a=v();return E(a.HandleClickAlertClose())}),s(8,"Aceptar"),o()()()}}function ta(i,t){if(i&1){let e=A();r(0,"div",19)(1,"div",20)(2,"h1",21),s(3,"Publicaci\xF3n creada"),o(),c(4,"img",25),r(5,"span",23),s(6,"\xA1La publicaci\xF3n se ha creado exitosamente!"),o(),r(7,"button",24),p("click",function(){w(e);let a=v();return E(a.HandleClickSuccessClose())}),s(8,"Aceptar"),o()()()}}var pt=class i{constructor(t,e,n,a){this.fb=t;this.router=e;this.route=n;this._service_publicaciones=a;this.Publicacion=this.fb.group({titulo:["",_.required],descripcion:["",_.required],imagen:["",_.required]})}fileInput;selectedFile=null;fileError=null;accion="";id;error=!1;publicacionCreada=!1;id_user=0;img=null;formdata=new FormData;Publicacion;ngOnInit(){let t=sessionStorage.getItem("userId");t!==null&&(this.id_user=Number(t)),this.id=this.route.snapshot.paramMap.get("id"),this.id?(this.accion="Editar",this._service_publicaciones.getPublicacionById(this.id).subscribe(e=>{console.log(e),this.Publicacion.patchValue({titulo:e.titulo,descripcion:e.descripcion,imagen:e.imagen})},e=>{console.error(e)})):this.accion="Crear"}onFileSelected(t){let e=t.target;if(e.files){let n=e.files[0];console.log("Nombre del archivo seleccionado: ",n.name),n.arrayBuffer().then(a=>{let m=new Blob([a],{type:n.type});this.formdata.append("file",m,n.name)}),console.log("Objeto imagen: ",n)}}publicar(){let t=this.Publicacion.value;console.log("imagen: ",t),this.formdata.append("titulo",t.titulo),this.formdata.append("descripcion",t.descripcion),this.formdata.append("fecha",this._service_publicaciones.getCurrentDate()),this.formdata.append("id_publicaciones_usuario",this.id_user.toString()),this.id?this._service_publicaciones.updatePublicaciones(this.id,this.formdata).subscribe(e=>{console.log("editado con exito",e),this.router.navigate(["red/publicaciones/misPublicaciones"])},e=>{console.error(e),this.error=!0}):this._service_publicaciones.postPublicaciones(this.formdata).subscribe(e=>{this.publicacionCreada=!0,console.log("publicacion agregada con los datos:",e),this.router.navigate(["red/publicaciones"])},e=>{console.error("Error al publicar:",e),this.error=!0}),console.log(this.formdata)}HandleClickAlertClose(){this.error=!1}HandleClickSuccessClose(){this.publicacionCreada=!1}cancelar(){this.id?this.router.navigate(["red/publicaciones/misPublicaciones"]):this.router.navigate(["red/publicaciones"])}static \u0275fac=function(e){return new(e||i)(u(Z),u(P),u(re),u(le))};static \u0275cmp=h({type:i,selectors:[["app-form-publicacion"]],viewQuery:function(e,n){if(e&1&&vt(Kr,5),e&2){let a;bt(a=_t())&&(n.fileInput=a.first)}},decls:29,vars:5,consts:[["tituloInput",""],["descripcionInput",""],[1,"flex","h-full","flex-col","items-center"],[1,"h-full","flex","justify-center","w-full","px-5","items-center"],[1,"flex","w-1/2","h-full","flex-col","rounded-lg",3,"submit","formGroup"],[1,"text-2xl","font-semibold","text-green-600","text-center"],[1,""],["for","titulo",1,"block","text-left","text-green-600","mb-2"],["formControlName","titulo","id","titulo","type","text","placeholder","Ingrese el t\xEDtulo aqu\xED",1,"w-full","border","border-green-600","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-300"],["for","descripcion",1,"block","text-left","text-green-600","mb-2"],["formControlName","descripcion","id","descripcion","rows","4","placeholder","Escriba la descripci\xF3n aqu\xED",1,"w-full","border","border-green-600","h-20","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-green-300"],[1,"block","text-green-600","mb-2"],[1,"text-sm"],[1,"border-dashed","border-2","h-24","flex","justify-center","items-center","border-green-600","rounded-md","p-2","text-gray-500","cursor-pointer"],["formControlName","imagen","type","file",3,"change"],[1,"flex","justify-evenly","my-3"],["type","submit",1,"bg-green-600","text-white","py-2","w-40","px-4","rounded-md","hover:bg-green-700"],[1,"border","border-green-600","text-green-600","w-40","py-2","px-4","rounded-md","hover:bg-green-100",3,"click"],["class","w-full flex justify-center items-center h-screen absolute top-0 left-0 bg-black/60",4,"ngIf"],[1,"w-full","flex","justify-center","items-center","h-screen","absolute","top-0","left-0","bg-black/60"],[1,"w-[300px]","h-[350px]","flex","justify-between","flex-col","items-center","rounded-lg","p-2","bg-green-50"],[1,"text-white","text-center","w-full","p-2","bg-green-600","rounded-lg"],["src","alertaError.png","alt","alerta no funcia"],[1,"text-center","text-green-600"],[1,"border","m-2","border-green-600","text-green-600","w-full","py-2","px-4","rounded-md","hover:bg-green-100",3,"click"],["src","alertaExito.png","alt","\xE9xito"]],template:function(e,n){if(e&1){let a=A();r(0,"div",2)(1,"div",3)(2,"form",4),p("submit",function(){return w(a),E(n.publicar())}),r(3,"h1",5),s(4),o(),r(5,"div",6)(6,"label",7),s(7,"T\xEDtulo:"),o(),c(8,"input",8,0),o(),r(10,"div",6)(11,"label",9),s(12,"Descripci\xF3n:"),o(),c(13,"textarea",10,1),o(),r(15,"div",6)(16,"label",11),s(17,"A\xF1adir imagen "),r(18,"span",12),s(19,"(solo PNG o JPG)"),o()(),r(20,"div",13)(21,"input",14),p("change",function(g){return w(a),E(n.onFileSelected(g))}),o()(),r(22,"div",15)(23,"button",16),s(24),o(),r(25,"button",17),p("click",function(){return w(a),E(n.cancelar())}),s(26,"Cancelar"),o()()()()()(),f(27,ea,9,0,"div",18)(28,ta,9,0,"div",18)}e&2&&(l(2),d("formGroup",n.Publicacion),l(2),C("",n.accion," Publicaci\xF3n "),l(20),j(n.id?"Guardar":"Publicar"),l(3),d("ngIf",n.error),l(),d("ngIf",n.publicacionCreada))},dependencies:[S,X,G,Y,W,J,K]})};var di=class i{constructor(t){this._servicioUser=t}ngOnInit(){}publicacion={id_publicaciones_usuario:0,imagen:"",descripcion:"",fecha:"",id_publicaciones:0,nombre_usuario:"",titulo:""};static \u0275fac=function(e){return new(e||i)(u(le))};static \u0275cmp=h({type:i,selectors:[["app-card-publicacion"]],inputs:{publicacion:"publicacion"},decls:13,vars:5,consts:[[1,"flex","w-full","pb-2","px-5","justify-between"],[1,"px-5"],[1,"text-sm","text-gray-500"],[1,"border","w-full","object-cover","border-dashed","border-green-800","flex","justify-between","rounded-xl"],[1,"flex","justify-between","items-center","w-2/5","p-5","flex-col"],[1,"w-full","font-semibold","text-green-800"],[1,"text-gray-700","text-justify"],[1,"w-3/5","flex-col","flex","items-center","object-cover","h-[12rem]"],["alt","Imagen de publicaci\xF3n",1,"rounded-r-xl","w-full","h-full","object-cover",3,"src"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"h1",1),s(2),o(),r(3,"span",2),s(4),o()(),r(5,"div",3)(6,"div",4)(7,"span",5),s(8),o(),r(9,"p",6),s(10),o()(),r(11,"div",7),c(12,"img",8),o()()),e&2&&(l(2),j(n.publicacion.titulo),l(2),j(n.publicacion.fecha),l(4),C("Publicado por: ",n.publicacion.nombre_usuario,""),l(2),C(" ",n.publicacion.descripcion," "),l(2),d("src",n.publicacion.imagen,ue))}})};function na(i,t){i&1&&(r(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),c(4,"span",6)(5,"span",7)(6,"span",8)(7,"span",9),o(),r(8,"div",10),c(9,"span",6)(10,"span",7)(11,"span",8)(12,"span",9),o(),r(13,"div",11),c(14,"span",6)(15,"span",7)(16,"span",8)(17,"span",9),o(),r(18,"div",12),c(19,"span",6)(20,"span",7)(21,"span",8)(22,"span",9),o(),r(23,"div",13),c(24,"span",6)(25,"span",7)(26,"span",8)(27,"span",9),o(),c(28,"span",14),o()(),s(29," Upss, aun no tienes publicaciones "),r(30,"a",15),s(31," crea una"),o()())}function oa(i,t){if(i&1&&(r(0,"div",18),c(1,"app-card-publicacion",19),o()),i&2){let e=t.$implicit;l(),d("publicacion",e)}}function ra(i,t){if(i&1&&(r(0,"div",16),f(1,oa,2,1,"div",17),o()),i&2){let e=v();l(),d("ngForOf",e.publicaciones)}}var ui=class i{constructor(t,e){this.publicacionesService=t;this.title=e}publicaciones=[];ngOnInit(){this.publicacionesService.getPublicaciones().subscribe(t=>{this.publicaciones=t,console.log("publicaciones",t.reverse())}),this.title.setTitle("Econexion | Publicaciones")}static \u0275fac=function(e){return new(e||i)(u(le),u(U))};static \u0275cmp=h({type:i,selectors:[["app-lista-p"]],decls:2,vars:2,consts:[["class","w-full flex text-center items-center justify-center flex-col h-full",4,"ngIf"],["class","w-full flex items-center px-5 h-full flex-col",4,"ngIf"],[1,"w-full","flex","text-center","items-center","justify-center","flex-col","h-full"],[1,"container"],[1,"tree"],[1,"branch",2,"--x","0"],[2,"--i","0"],[2,"--i","1"],[2,"--i","2"],[2,"--i","3"],[1,"branch",2,"--x","1"],[1,"branch",2,"--x","2"],[1,"branch",2,"--x","3"],[1,"stem"],[1,"shadow"],["routerLink","/red/publicaciones/formpublicacion",1,"text-green-600","mx-2","border-b","border-green-600"],[1,"w-full","flex","items-center","px-5","h-full","flex-col"],["class","bg-white shadow-lg rounded-xl p-5 border w-3/5",4,"ngFor","ngForOf"],[1,"bg-white","shadow-lg","rounded-xl","p-5","border","w-3/5"],[3,"publicacion"]],template:function(e,n){e&1&&f(0,na,32,0,"div",0)(1,ra,2,1,"div",1),e&2&&(d("ngIf",n.publicaciones.length<=0),l(),d("ngIf",n.publicaciones.length>0))},dependencies:[L,S,k,di],styles:[".container[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center;height:50%}.tree[_ngcontent-%COMP%]{position:relative;width:50px;height:50px;transform-style:preserve-3d;transform:rotateX(-20deg) rotateY(30deg);animation:_ngcontent-%COMP%_treeAnimate 5s linear infinite}@keyframes _ngcontent-%COMP%_treeAnimate{0%{transform:rotateX(-20deg) rotateY(360deg)}to{transform:rotateX(-20deg) rotateY(0)}}.tree[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:-50px;left:0;width:100%;height:100%;transform-style:preserve-3d;transform:translateY(calc(25px * var(--x))) translateZ(0)}.tree[_ngcontent-%COMP%]   div.branch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,#69c069,#7d7);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) rotateX(30deg) translateZ(28.5px)}.tree[_ngcontent-%COMP%]   div.stem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:110px;left:calc(50% - 7.5px);width:15px;height:50%;background:linear-gradient(90deg,#bb4622,#df7214);border-bottom:5px solid #00000019;transform-origin:bottom;transform:rotateY(calc(90deg * var(--i))) translateZ(7.5px)}.shadow[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#0006;filter:blur(20px);transform-style:preserve-3d;transform:rotateX(90deg) translateZ(-65px)}"]})};var aa=(i,t)=>({"translate-x-0":i,"translate-x-full":t});function sa(i,t){if(i&1){let e=A();r(0,"div",7)(1,"button",8),p("click",function(){w(e);let a=v();return E(a.closeAlert())}),c(2,"img",9),o(),r(3,"p",10),s(4,"Inicio de sesi\xF3n exitoso."),o()()}if(i&2){let e=v();d("ngClass",ke(1,aa,e.showAlert,!e.showAlert))}}var ft=class i{showAlert=!1;ngOnInit(){sessionStorage.getItem("alerta")&&(this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3),sessionStorage.removeItem("alerta"))}closeAlert(){this.showAlert=!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-publicaciones"]],decls:11,vars:1,consts:[[1,"h-[15%]","flex","justify-center","bg-transparent","p-5","w-full"],[1,"flex","justify-between","px-2","w-3/5","items-center","border","border-dashed","border-green-600","bg-white","rounded-xl","text-green-600"],["routerLink","formpublicacion","routerLinkActive","border-b-2 border-green-600"],["routerLink","/red/publicaciones",1,"text-2xl","font-semibold","text-green-600"],["routerLink","misPublicaciones","routerLinkActive","border-b-2 border-green-600"],["id","scrollme",1,"h-[85%]","w-full","overflow-hidden","overflow-y-scroll"],["class"," w-[20%] fixed bottom-0 right-10 mb-4 mr-4 z-50 bg-green-500 text-white p-4 rounded-lg shadow-lg transition-transform duration-500 transform translate-x-full",3,"ngClass",4,"ngIf"],[1,"w-[20%]","fixed","bottom-0","right-10","mb-4","mr-4","z-50","bg-green-500","text-white","p-4","rounded-lg","shadow-lg","transition-transform","duration-500","transform","translate-x-full",3,"ngClass"],[3,"click"],["src","cross.png","alt","cerrar",1,"w-[20px]","h-[20%]"],[1,"text-lg"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"a",2),s(3,"Crear publicaci\xF3n"),o(),r(4,"a",3),s(5,"PUBLICACIONES"),o(),r(6,"a",4),s(7," Mis Publicaciones"),o()()(),r(8,"div",5),c(9,"router-outlet"),o(),f(10,sa,5,4,"div",6)),e&2&&(l(10),d("ngIf",n.showAlert))},dependencies:[oe,S,ae,k,yt],styles:["#scrollme[_ngcontent-%COMP%]{scrollbar-width:none}"]})};var Ze=class i{constructor(){}seemenu=!0;width="w-full";sidebarWidth="w-2/12";outletWidth="w-10/12";static \u0275fac=function(e){return new(e||i)};static \u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})};var la=(i,t)=>({top:i,left:t});function ca(i,t){if(i&1&&(r(0,"div",12),s(1),o()),i&2){let e=v();l(),C(" Chat con ",e._perfil_service.chatWith_user.nombre_usuario," ")}}function da(i,t){if(i&1){let e=A();r(0,"label",13),p("click",function(){w(e);let a=v();return E(a.activarBusqueda())}),c(1,"img",14),o()}}function ua(i,t){if(i&1){let e=A();r(0,"label",15)(1,"div",16),Qi(),r(2,"svg",17),c(3,"path",18),o(),Ji(),c(4,"input",19),o(),r(5,"p",20),p("click",function(){w(e);let a=v();return E(a.activarBusqueda())}),s(6,"X"),o()()}}function ma(i,t){if(i&1){let e=A();r(0,"div",21)(1,"button",22),p("click",function(){w(e);let a=v();return E(a.closeModal())}),c(2,"img",23),o(),r(3,"div",24),c(4,"img",25),r(5,"h2",26),s(6),o(),r(7,"div",27)(8,"button",28),p("click",function(){w(e);let a=v();return E(a.goToProfile())}),s(9," Ir a mi perfil "),o(),r(10,"button",29),p("click",function(){w(e);let a=v();return E(a.logout())}),s(11," Cerrar sesi\xF3n "),o()()()()}if(i&2){let e=v();d("ngStyle",ke(4,la,e.modalPosition.top+"px",e.modalPosition.left+"px")),l(4),d("src",e.user.imagen_usuario,ue),l(2),xt("",e.user.nombre_usuario," ",e.user.apellidos_usuario,"")}}var mi=class i{constructor(t,e){this._perfil_service=t;this.router=e}isModalOpen=!1;modalPosition={top:0,left:0};activarInput=!0;activarBusqueda(){this.activarInput=!this.activarInput}user={apellidos_usuario:"",correo_usuario:"",nombre_usuario:"",contrase\u00F1a_usuario:"",id_usuario:0,estatus:"",imagen_usuario:"",telefono_usuario:0,tipo_usuario:"",descripcion:""};ngOnInit(){this._perfil_service.getPerfil().subscribe({next:t=>{this.user=t},error:t=>{console.error("Error al obtener el perfil:",t)}})}openModal(t){let e=t.getBoundingClientRect();this.modalPosition={top:e.bottom+window.scrollY+10,left:e.left+window.scrollX-220},this.isModalOpen=!0}toggleModal(t){this.isModalOpen?this.closeModal():this.openModal(t)}closeModal(){this.isModalOpen=!1}goToProfile(){this.closeModal(),this.router.navigate(["red/perfil"])}logout(){this.closeModal(),sessionStorage.removeItem("userId"),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||i)(u(z),u(P))};static \u0275cmp=h({type:i,selectors:[["app-nav"]],decls:13,vars:5,consts:[["buttonRef",""],[1,"flex","items-center","h-full","justify-between","shadow-lg"],[1,"flex","items-center","object-cover"],["src","LOGO.png","alt","Logo",1,"w-[80px]","h-[80px]","rounded-full"],[1,"text-2xl","font-bold","text-green-800"],["class","text-green-600 text-lg bg-green-100 p-2 rounded-lg",4,"ngIf"],[1,"flex","space-x-3","mx-3"],["class","text-green-800 flex justify-center items-center w-[50px] h-[50px] rounded-full object-cover border border-[#61A146] ",3,"click",4,"ngIf"],["class","text-green-800 flex justify-between items-center w-[500px] h-[50px] rounded-full object-cover border border-[#61A146] ",4,"ngIf"],[1,"text-green-800","flex","justify-center","items-center","w-[50px]","h-[50px]","rounded-full","object-cover","bg-[#61A146]",3,"click"],["alt","user",1,"w-[35px]","h-[35px]","rounded-full",3,"src"],["class","absolute bg-white p-4 rounded-lg shadow-lg z-50 w-64",3,"ngStyle",4,"ngIf"],[1,"text-green-600","text-lg","bg-green-100","p-2","rounded-lg"],[1,"text-green-800","flex","justify-center","items-center","w-[50px]","h-[50px]","rounded-full","object-cover","border","border-[#61A146]",3,"click"],["src","search.png","alt","search",1,"w-[25px]","h-[25px]"],[1,"text-green-800","flex","justify-between","items-center","w-[500px]","h-[50px]","rounded-full","object-cover","border","border-[#61A146]"],[1,"inputBox_container","bg-green-600"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48","alt","search icon",1,"search_icon"],["d","M46.599 46.599a4.498 4.498 0 0 1-6.363 0l-7.941-7.941C29.028 40.749 25.167 42 21 42 9.402 42 0 32.598 0 21S9.402 0 21 0s21 9.402 21 21c0 4.167-1.251 8.028-3.342 11.295l7.941 7.941a4.498 4.498 0 0 1 0 6.363zM21 6C12.717 6 6 12.714 6 21s6.717 15 15 15c8.286 0 15-6.714 15-15S29.286 6 21 6z"],["id","inputBox","type","text","placeholder","Realiza una busqueda",1,"inputBox"],[1,"flex","justify-center","items-center","m-2","rounded-full","w-[40px]","h-[40px]","text-green-600","border","border-green-600",3,"click"],[1,"absolute","bg-white","p-4","rounded-lg","shadow-lg","z-50","w-64",3,"ngStyle"],[1,"absolute","top-2","right-2","hover:text-green-900","w-[35px]","h-[35px]",3,"click"],["src","cross.png","alt","salir"],[1,"flex","flex-col","items-center"],["alt","user",1,"w-12","h-12","rounded-full","mb-2",3,"src"],[1,"text-lg","font-semibold"],[1,"mt-4","space-y-2","w-full"],[1,"border","m-2","border-green-600","text-green-600","w-full","py-2","px-4","rounded-md","hover:bg-green-100",3,"click"],[1,"bg-green-600","text-white","py-2","m-2","px-4","rounded-md","hover:bg-green-700","w-full",3,"click"]],template:function(e,n){if(e&1){let a=A();r(0,"header",1)(1,"div",2),c(2,"img",3),r(3,"h1",4),s(4,"ECONEXION"),o()(),f(5,ca,2,1,"div",5),r(6,"div",6),f(7,da,2,0,"label",7)(8,ua,7,0,"label",8),r(9,"button",9,0),p("click",function(){w(a);let g=Ki(10);return E(n.toggleModal(g))}),c(11,"img",10),o(),f(12,ma,12,7,"div",11),o()()}e&2&&(l(5),d("ngIf",n._perfil_service.chatWith_user.id_usuario!=0),l(2),d("ngIf",n.activarInput),l(),d("ngIf",!n.activarInput),l(3),d("src",n.user.imagen_usuario,ue),l(),d("ngIf",n.isModalOpen))},dependencies:[S,an],styles:[".inputBox_container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;width:450px;height:fit-content;border-radius:30px;overflow:hidden;margin-left:5px}div[ngStyle][_ngcontent-%COMP%]{position:absolute;z-index:50;background-color:#fff;padding:16px;border-radius:8px;box-shadow:0 4px 8px #0000001a;transition:transform .2s ease-in-out}.search_icon[_ngcontent-%COMP%]{height:1em;padding:0 .5em 0 .8em;fill:#abb2bf}.inputBox[_ngcontent-%COMP%]{background-color:transparent;color:#fff;outline:none;width:100%;border:0;padding:.5em 1.5em .5em 0;font-size:1em}[_ngcontent-%COMP%]::placeholder{color:#ffffff9f}"]})};function fa(i,t){i&1&&(r(0,"nav",10)(1,"a",11),c(2,"img",12),s(3,"Publicaciones"),o(),r(4,"a",13),c(5,"img",14),s(6,"Eventos"),o(),r(7,"a",15),c(8,"img",16),s(9,"Foros"),o(),r(10,"a",17),c(11,"img",18),s(12,"Chats"),o()())}function ha(i,t){i&1&&(r(0,"nav",10)(1,"a",19),c(2,"img",20),o(),r(3,"a",21),c(4,"img",22),o(),r(5,"a",23),c(6,"img",24),o(),r(7,"a",25),c(8,"img",26),o()())}function ga(i,t){i&1&&(r(0,"a",27),c(1,"img",28),s(2," Donaciones "),o())}function va(i,t){i&1&&(r(0,"a",29),c(1,"img",30),o())}var pi=class i{constructor(t){this._servicio=t;this.seemenu=t.seemenu,this.width=t.width}seemenu;width;minw="min-w-80";rotate="rotate-0";menu(){this._servicio.seemenu=!this._servicio.seemenu,this._servicio.seemenu?(this._servicio.sidebarWidth="w-2/12",this.rotate="rotate-0"):(this._servicio.sidebarWidth="w-[6%]",this.rotate="rotate-180"),this._servicio.seemenu?this._servicio.outletWidth="w-5/6":this._servicio.outletWidth="w-11/12"}static \u0275fac=function(e){return new(e||i)(u(Ze))};static \u0275cmp=h({type:i,selectors:[["app-sidebar"]],decls:12,vars:6,consts:[[1,"flex","h-full","w-full","flex-col"],[1,"flex","w-full","flex-1"],[1,"p-4","border-r","flex","flex-col","justify-between","bg-white","border-solid","border-green-500","duration-300","bg-transparent",3,"ngClass"],[1,"w-full","flex","justify-end","translate-x-[1.9rem]"],[1,"w-7","h-7","flex","justify-center","items-center","object-fill","cursor-pointer","rounded-full","border","border-green-600","bg-white",3,"click"],["src","icons8-cierre-de-sesi\xF3n-redondeado-hacia-la-izquierda-24.png","alt","",1,"w-full","duration-700",3,"ngClass"],["class","space-y-4 flex  flex-col",4,"ngIf"],["class","space-y-4 flex flex-col",4,"ngIf"],["routerLink","Donaciones","routerLinkActive","activado scale-105 duration-500 border-[#61A146] text-[#61A146] bg-white shadow-lg activado shadow-black/50","class","flex buton items-center border bg-[#61A146]  text-white  p-2 rounded hover:bg-white  hover:border-[#61A146] hover:text-[#61A146]",4,"ngIf"],["routerLinkActive","activado scale-110 duration-500 border-[#61A146] bg-white shadow-xl activado shadow-black/50","class","flex  buton items-center justify-center border bg-[#61A146]  text-white  p-2 rounded hover:bg-white  hover:border-[#61A146] hover:text-[#61A146]","routerLink","Donaciones",4,"ngIf"],[1,"space-y-4","flex","flex-col"],["routerLinkActive","activado scale-105 duration-500 border-[#61A146] text-[#61A146] bg-white shadow-lg activado shadow-black/50","routerLink","publicaciones",1,"flex","buton","items-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","house.png","alt","check",1,"w-[30px]","border-white","mr-6","rounded","border","h-[30px]"],["routerLinkActive","activado scale-105 duration-500 border-[#61A146] bg-white shadow-lg activado shadow-black/50","routerLink","eventos",1,"flex","buton","items-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","chek.png","alt","check",1,"w-[30px]","border-white","mr-6","rounded","border","h-[30px]"],["routerLinkActive","activado scale-105 duration-500 border-[#61A146] bg-white shadow-lg activado shadow-black/50","routerLink","foros",1,"flex","buton","items-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","handshake.png","alt","handshake",1,"w-[30px]","border-white","rounded","border","mr-6","h-[30px]"],["routerLinkActive","activado scale-105 duration-500 border-[#61A146] bg-white shadow-lg activado shadow-black/50","routerLink","chats",1,"flex","buton","items-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","message.png","alt","handshake",1,"w-[30px]","border-white","rounded","border","mr-6","h-[30px]"],["routerLinkActive","activado scale-110 duration-500 border-[#61A146] bg-white shadow-xl activado shadow-black/50","routerLink","publicaciones",1,"flex","buton","items-center","justify-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","house.png","alt","check",1,"w-[30px]","border-white","rounded","border","h-[30px]"],["routerLinkActive","activado scale-110 duration-500 border-[#61A146] bg-white shadow-lg activado shadow-black/50","routerLink","eventos",1,"flex","buton","justify-center","items-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","chek.png","alt","check",1,"w-[30px]","border-white","rounded","border","h-[30px]"],["routerLinkActive","activado scale-110 duration-500 border-[#61A146] bg-white shadow-lg activado shadow-black/50","routerLink","foros",1,"flex","buton","justify-center","items-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","handshake.png","alt","handshake",1,"w-[30px]","border-white","rounded","border","h-[30px]"],["routerLinkActive","activado scale-110 duration-500 border-[#61A146] bg-white shadow-lg activado shadow-black/50","routerLink","chats",1,"flex","buton","justify-center","items-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","message.png","alt","handshake",1,"w-[30px]","border-white","rounded","border","h-[30px]"],["routerLink","Donaciones","routerLinkActive","activado scale-105 duration-500 border-[#61A146] text-[#61A146] bg-white shadow-lg activado shadow-black/50",1,"flex","buton","items-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","Donacion.png","alt","check",1,"w-[30px]","border-white","mr-6","rounded","border","h-[30px]"],["routerLinkActive","activado scale-110 duration-500 border-[#61A146] bg-white shadow-xl activado shadow-black/50","routerLink","Donaciones",1,"flex","buton","items-center","justify-center","border","bg-[#61A146]","text-white","p-2","rounded","hover:bg-white","hover:border-[#61A146]","hover:text-[#61A146]"],["src","Donacion.png","alt","check",1,"w-[30px]","border-white","rounded","border","h-[30px]"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"aside",2)(3,"div")(4,"div",3)(5,"div",4),p("click",function(){return n.menu()}),c(6,"img",5),o()(),f(7,fa,13,0,"nav",6)(8,ha,9,0,"nav",7),o(),r(9,"div"),f(10,ga,3,0,"a",8)(11,va,2,0,"a",9),o()()()()),e&2&&(l(2),d("ngClass",n._servicio.width),l(4),d("ngClass",n.rotate),l(),d("ngIf",n._servicio.seemenu),l(),d("ngIf",!n._servicio.seemenu),l(2),d("ngIf",n._servicio.seemenu),l(),d("ngIf",!n._servicio.seemenu))},dependencies:[oe,S,k,yt],styles:[".activado[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{filter:invert(100%)}.activado[_ngcontent-%COMP%]{color:#61a146}.buton[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{filter:invert(100%);border-color:#fff}"]})};var fi=class i{constructor(t){this._servicio=t}static \u0275fac=function(e){return new(e||i)(u(Ze))};static \u0275cmp=h({type:i,selectors:[["app-red"]],decls:8,vars:2,consts:[[1,"w-full","h-screen"],[1,"sticky","top-0","h-1/6"],[1,"flex","w-full","h-5/6"],[1,"h-full","min-w-20","duration-300","transition-all",3,"ngClass"],[1,"bg-white","h-full","p-5",3,"ngClass"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),c(2,"app-nav"),o(),r(3,"div",2)(4,"div",3),c(5,"app-sidebar"),o(),r(6,"div",4),c(7,"router-outlet"),o()()()),e&2&&(l(4),d("ngClass",n._servicio.sidebarWidth),l(2),d("ngClass",n._servicio.outletWidth))},dependencies:[oe,ae,mi,pi],data:{animation:[]}})};function _a(i,t){i&1&&(r(0,"small",18),s(1," El nombre es obligatorio. "),o())}function xa(i,t){i&1&&(r(0,"small",18),s(1," El correo electr\xF3nico es obligatorio y debe ser v\xE1lido. "),o())}function Ca(i,t){i&1&&(r(0,"small",18),s(1," Los apellidos son obligatorios. "),o())}function ya(i,t){i&1&&(r(0,"small",18),s(1," introduaca un numero de telefono valido. "),o())}function wa(i,t){i&1&&(r(0,"small",18),s(1," La descripci\xF3n es obligatoria y debe contener al menos 10 caracteres. "),o())}function Ea(i,t){i&1&&c(0,"div",19)}function Sa(i,t){if(i&1){let e=A();r(0,"div",20)(1,"button",21),p("click",function(){w(e);let a=v();return E(a.closeError())}),s(2,"Aceptar"),o()()}}var hi=class i{constructor(t,e,n){this._router=t;this.fb=e;this.perfilService=n;this.actulizarperfilForm=this.fb.group({nombre_usuario:["",_.required],apellidos_usuario:["",_.required],correo_usuario:["",[_.required,_.email]],contrasena_usuario:[""],telefono_usuario:["",[_.required,_.minLength(10),_.maxLength(10)]],tipo_usuario:["usuario",_.required],estatus:["activo",_.required],descripcion:["",[_.required,_.minLength(10)]]})}actulizarperfilForm;mostrarErrorContrasenas=!1;imagenSeleccionada="";creado=!1;error=!1;ngOnInit(){this.cargarUsuario()}cargarUsuario(){let t=sessionStorage.getItem("userId");t?this.perfilService.getPerfilById(+t).subscribe({next:e=>{this.actulizarperfilForm.patchValue(e)},error:e=>{console.error("Error al cargar los datos del usuario:",e),this.error=!0}}):console.error("No se encontr\xF3 el ID del usuario en sessionStorage")}onImagenSeleccionada(t){let e=t.target.files[0];e&&(this.imagenSeleccionada=e||"")}registrarUsuario(){if(console.log(this.actulizarperfilForm.value),this.actulizarperfilForm.valid){let t=new FormData;this.imagenSeleccionada&&typeof this.imagenSeleccionada!="string"&&t.append("imagen",this.imagenSeleccionada),Object.keys(this.actulizarperfilForm.value).forEach(n=>{t.append(n,this.actulizarperfilForm.value[n])}),sessionStorage.getItem("userId")?this.perfilService.updatePerfilById(t).subscribe({next:()=>{this.creado=!0,console.log("Usuario actualizado con \xE9xito"),this._router.navigate(["red/perfil"])},error:n=>{console.error("Error al actualizar el usuario:",n),this.error=!0}}):(console.error("No se encontr\xF3 el ID del usuario en sessionStorage"),this.error=!0)}else console.error("Formulario inv\xE1lido"),this.error=!0}closeError(){this.error=!1}cancelar(){this._router.navigate(["red/perfil"])}static \u0275fac=function(e){return new(e||i)(u(P),u(Z),u(z))};static \u0275cmp=h({type:i,selectors:[["app-form-actulizar-perfil"]],decls:40,vars:10,consts:[["enctype","multipart/form-data",1,"flex","text-[#61A146]","flex-col","lg:flex-row","flex-wrap","rounded-xl","justify-between","px-5","bg-white","border","border-black",3,"ngSubmit","formGroup"],[1,"w-full","text-center","flex","justify-center","items-center","rounded-lg","bg-white","my-5","text-[#61A146]","text-2xl","p-2"],[1,"my-2","lg:px-5","lg:w-1/2","flex","flex-col"],["type","text","formControlName","nombre_usuario","placeholder","Introduzca su nombre de usuario",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1"],["class","text-red-500",4,"ngIf"],["type","email","formControlName","correo_usuario","placeholder","Introduzca su correo electr\xF3nico",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1"],["type","text","formControlName","apellidos_usuario","placeholder","Introduzca sus apellidos",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1"],["type","text","formControlName","telefono_usuario","placeholder","Introduzca su n\xFAmero de tel\xE9fono",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1",3,"maxLength","minlength"],[1,"my-2","lg:px-5","w-full","flex","flex-col"],["rows","4","formControlName","descripcion","placeholder","Introduzca una breve descripci\xF3n de usted",1,"w-full","text-center","border-2","rounded-lg","border-[#BDE7AC]","p-1"],[1,"my-2","lg:px-5","lg:w-full","items-center","justify-center","flex","flex-col"],[1,"w-full","flex","justify-center","border-2","border-[#BDE7AC]"],["type","file","accept","image/*",1,"flex","justify-center","items-center","text-center","file:bg-transparent","file:border-none","cursor-pointer","rounded-lg","p-5",3,"change"],[1,"flex","w-full","justify-evenly"],["type","submit",1,"p-3","my-5","text-white","bg-[#61A146]","rounded-lg","w-[40%]","hover:bg-[#3a7122]"],[1,"border","border-green-600","text-green-600","p-3","my-5","rounded-lg","hover:bg-green-100","w-[40%]","text-center",3,"click"],["class","w-full h-screen absolute top-0 left-0 bg-black/70",4,"ngIf"],["class","w-full h-full absolute top-0 left-0 bg-black/70 rounded-lg flex justify-center items-center",4,"ngIf"],[1,"text-red-500"],[1,"w-full","h-screen","absolute","top-0","left-0","bg-black/70"],[1,"w-full","h-full","absolute","top-0","left-0","bg-black/70","rounded-lg","flex","justify-center","items-center"],[1,"p-2","bg-green-600","text-white","rounded-lg",3,"click"]],template:function(e,n){if(e&1&&(r(0,"form",0),p("ngSubmit",function(){return n.registrarUsuario()}),r(1,"h1",1),s(2," Ingresa tus datos "),o(),r(3,"label",2)(4,"span"),s(5,"Nombre:"),o(),c(6,"input",3),f(7,_a,2,0,"small",4),o(),r(8,"label",2)(9,"span"),s(10,"Correo electr\xF3nico:"),o(),c(11,"input",5),f(12,xa,2,0,"small",4),o(),r(13,"label",2)(14,"span"),s(15,"Apellidos:"),o(),c(16,"input",6),f(17,Ca,2,0,"small",4),o(),r(18,"label",2)(19,"span"),s(20,"Tel\xE9fono:"),o(),c(21,"input",7),f(22,ya,2,0,"small",4),o(),r(23,"label",8)(24,"span"),s(25,"Descripci\xF3n:"),o(),c(26,"textarea",9),f(27,wa,2,0,"small",4),o(),r(28,"label",10)(29,"span"),s(30,"Foto de perfil:"),o(),r(31,"div",11)(32,"input",12),p("change",function(m){return n.onImagenSeleccionada(m)}),o()()(),r(33,"div",13)(34,"button",14),s(35,"Actualizar usuario"),o(),r(36,"button",15),p("click",function(){return n.cancelar()}),s(37," Cancelar"),o()()(),f(38,Ea,1,0,"div",16)(39,Sa,3,0,"div",17)),e&2){let a,m,g,M,R;d("formGroup",n.actulizarperfilForm),l(7),d("ngIf",((a=n.actulizarperfilForm.get("nombre_usuario"))==null?null:a.invalid)&&((a=n.actulizarperfilForm.get("nombre_usuario"))==null?null:a.touched)),l(5),d("ngIf",((m=n.actulizarperfilForm.get("correo_usuario"))==null?null:m.invalid)&&((m=n.actulizarperfilForm.get("correo_usuario"))==null?null:m.touched)),l(5),d("ngIf",((g=n.actulizarperfilForm.get("apellidos_usuario"))==null?null:g.invalid)&&((g=n.actulizarperfilForm.get("apellidos_usuario"))==null?null:g.touched)),l(4),d("maxLength",10)("minlength",10),l(),d("ngIf",((M=n.actulizarperfilForm.get("telefono_usuario"))==null?null:M.invalid)&&((M=n.actulizarperfilForm.get("telefono_usuario"))==null?null:M.touched)),l(5),d("ngIf",((R=n.actulizarperfilForm.get("descripcion"))==null?null:R.invalid)&&((R=n.actulizarperfilForm.get("descripcion"))==null?null:R.touched)),l(11),d("ngIf",n.creado),l(),d("ngIf",n.error)}},dependencies:[S,X,G,Y,W,Ve,J,K]})};var Ia=[{path:"red",component:fi,canActivate:[Yn],children:[{path:"publicaciones",component:ft,data:{animation:"HomePage"},children:[{path:"",component:ui},{path:"formpublicacion",component:pt},{path:"misPublicaciones",component:Xe},{path:"formpublicacion/:id",component:pt}]},{path:"eventos",component:Zt,data:{animation:"AboutPage"},children:[{path:"",component:Jt},{path:"miseventos",component:Xt},{path:"form-evento/:id",component:ut},{path:"formeventos",component:ut}]},{path:"foros",component:ti,children:[{path:"formforos",component:ei},{path:"",component:ii},{path:"misforos",component:ni}]},{path:"Donaciones",component:Wt},{path:"Donaciones/donacionesform",component:dt},{path:"Donaciones/donacionesform/:id",component:dt},{path:"chats",component:zt,children:[{path:"with/:id_chat",component:si},{path:"",component:ri},{path:"contactos",component:qt}]},{path:"",component:ft},{path:"perfil",component:ci},{path:"actualizar_perfil",component:hi}]}],Qe=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[N.forChild(Ia),N]})};var Fa=[],gi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[N.forChild(Fa),N]})};var vi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[te,gi,ie]})};var Ma=[],bi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[N.forChild(Ma),N]})};var _i=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[te,bi,ye,ie]})};var Da=[],xi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[N.forChild(Da),N]})};var Ci=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[te,xi,ie]})};var Aa=[],yi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[N.forChild(Aa),N]})};var Va=[],wi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[N.forChild(Va),N]})};var Je=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[te,wi,ye,ie]})};var Ei=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[te,yi,Je,ie]})};var Si=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[te,Qe,Je,Ci,_i,Ei,vi,ye,ie]})};var Ii=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i});static \u0275inj=I({imports:[te,Ye,Si,Qe,ye,ie]})};var Fi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i,bootstrap:[Re]});static \u0275inj=I({providers:[cn()],imports:[ln,wt,Ii,Ye,sn]})};var Yi=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=F({type:i,bootstrap:[Re]});static \u0275inj=I({imports:[Fi,dn]})};export{Yi as a};
